import{d as E,i as R,c as g,a as s,u as t,h as U,w as a,b as l,l as c,e as o,t as u,j,f as p,n as S,o as m,g as A,F as D,p as P}from"./app-BaqzZnHq.js";import{_ as V}from"./index-ObhpWsWf.js";import{_ as f}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-C8Th2wjS.js";import{_,a as v,b as x,c as N}from"./CardTitle.vue_vue_type_script_setup_true_lang-BvDw2pF_.js";import{_ as b}from"./CardContent.vue_vue_type_script_setup_true_lang-BqZt5Kgb.js";import{_ as $}from"./Input.vue_vue_type_script_setup_true_lang-DxueCMwF.js";import{_ as w}from"./Label.vue_vue_type_script_setup_true_lang-CYCaEj9h.js";import{_ as B}from"./CustomSelect.vue_vue_type_script_setup_true_lang-BkRvs9cp.js";import{U as F,_ as z}from"./AdminLayout.vue_vue_type_script_setup_true_lang-B9hZFbbH.js";import{A as M}from"./arrow-left-C8U-dXkH.js";import{S as I}from"./save-DdRaVdbw.js";import{C as h}from"./calendar-DOd0NERn.js";import{M as L}from"./mail-zEL367i8.js";import"./utils-Rhrh6p6F.js";import"./useForwardExpose-CxzTNuPd.js";import"./OptimizedImage.vue_vue_type_script_setup_true_lang-RHEPN6AA.js";import"./chevron-down-BHv6PGeY.js";import"./createLucideIcon-Ct0QZxrm.js";import"./AppSidebarHeader.vue_vue_type_script_setup_true_lang-zDaMYM_2.js";import"./VisuallyHidden-CrlXMp5L.js";import"./RovingFocusGroup-Bq_HZTAr.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-tRkDTNlQ.js";import"./index-opWzLI44.js";const q={class:"space-y-6 p-6"},T={class:"flex items-center gap-4"},J={class:"text-muted-foreground"},O={class:"grid gap-6 lg:grid-cols-3"},Q={class:"space-y-2"},H={key:0,class:"text-sm text-destructive"},K={class:"space-y-2"},W={key:0,class:"text-sm text-destructive"},X={class:"space-y-2"},Y={key:0,class:"text-sm text-destructive"},Z={class:"flex items-center gap-4 pt-4"},tt={class:"space-y-6 p-6"},et={class:"flex items-center justify-between"},st={class:"flex items-center justify-between"},at={class:"flex items-center justify-between"},lt={class:"flex items-center gap-1 text-sm text-muted-foreground"},it={class:"flex items-center justify-between"},ot={class:"flex items-center justify-between"},rt={class:"flex items-center gap-1 text-sm text-muted-foreground"},ut={key:0,class:"space-y-2"},dt={class:"text-sm text-muted-foreground"},nt={key:1,class:"space-y-2"},mt={class:"text-sm text-muted-foreground"},Nt=E({__name:"Edit",props:{guest:{},groups:{},errors:{}},setup(i){const d=i,r=R({full_name:d.guest.full_name,email:d.guest.email||"",group_id:d.guest.group_id?.toString()||""}),k=()=>{r.transform(y=>({...y,email:y.email||null})).put(`/admin/guests/${d.guest.id}/update`,{preserveScroll:!0})},C=()=>{confirm("Send RSVP invitation email to this guest?")&&P.post(`/admin/guests/${d.guest.id}/send-rsvp`,{},{preserveScroll:!0,onSuccess:()=>{}})},G=[{title:"Dashboard",href:"/admin/dashboard"},{title:"Guests",href:"/admin/guests"},{title:d.guest.full_name,href:`/admin/guests/${d.guest.id}`},{title:"Edit",href:`/admin/guests/${d.guest.id}/edit`}];return(y,e)=>(m(),g(D,null,[s(t(U),{title:"Edit Guest - Admin"}),s(z,{breadcrumbs:G},{default:a(()=>[l("div",q,[l("div",T,[s(t(f),{variant:"outline",size:"sm","as-child":""},{default:a(()=>[s(t(c),{href:`/admin/guests/${i.guest.id}`},{default:a(()=>[s(t(M),{class:"mr-2 h-4 w-4"}),e[3]||(e[3]=o(" Back to Guest ",-1))]),_:1},8,["href"])]),_:1}),l("div",null,[e[4]||(e[4]=l("h1",{class:"text-3xl font-bold tracking-tight"}," Edit Guest ",-1)),l("p",J," Update information for "+u(i.guest.full_name),1)])]),l("div",O,[s(t(_),{class:"lg:col-span-2"},{default:a(()=>[s(t(v),null,{default:a(()=>[s(t(x),null,{default:a(()=>[...e[5]||(e[5]=[o("Guest Information",-1)])]),_:1}),s(t(N),null,{default:a(()=>[...e[6]||(e[6]=[o(" Update the details for this guest ",-1)])]),_:1})]),_:1}),s(t(b),null,{default:a(()=>[l("form",{onSubmit:j(k,["prevent"]),class:"space-y-6"},[l("div",Q,[s(t(w),{for:"full_name"},{default:a(()=>[...e[7]||(e[7]=[o("Full Name",-1)])]),_:1}),s(t($),{id:"full_name",modelValue:t(r).full_name,"onUpdate:modelValue":e[0]||(e[0]=n=>t(r).full_name=n),placeholder:"e.g., John Smith",class:S({"border-destructive":t(r).errors.full_name}),required:""},null,8,["modelValue","class"]),t(r).errors.full_name?(m(),g("p",H,u(t(r).errors.full_name),1)):p("",!0)]),l("div",K,[s(t(w),{for:"email"},{default:a(()=>[...e[8]||(e[8]=[o("Email Address (Optional)",-1)])]),_:1}),s(t($),{id:"email",modelValue:t(r).email,"onUpdate:modelValue":e[1]||(e[1]=n=>t(r).email=n),type:"email",placeholder:"e.g., john.smith@example.com",class:S({"border-destructive":t(r).errors.email})},null,8,["modelValue","class"]),t(r).errors.email?(m(),g("p",W,u(t(r).errors.email),1)):p("",!0),e[9]||(e[9]=l("p",{class:"text-sm text-muted-foreground"}," This email will be used to send RSVP invitations (leave blank if not available) ",-1))]),l("div",X,[s(t(w),{for:"group_id"},{default:a(()=>[...e[10]||(e[10]=[o("Group",-1)])]),_:1}),s(B,{modelValue:t(r).group_id,"onUpdate:modelValue":e[2]||(e[2]=n=>t(r).group_id=n),options:i.groups.map(n=>({value:n.id.toString(),label:n.name})),placeholder:"Select a group",class:S({"border-destructive":t(r).errors.group_id}),required:""},null,8,["modelValue","options","class"]),t(r).errors.group_id?(m(),g("p",Y,u(t(r).errors.group_id),1)):p("",!0),e[11]||(e[11]=l("p",{class:"text-sm text-muted-foreground"}," Assign this guest to a group for organization ",-1))]),l("div",Z,[s(t(f),{type:"submit",disabled:t(r).processing},{default:a(()=>[s(t(I),{class:"mr-2 h-4 w-4"}),e[12]||(e[12]=o(" Update Guest ",-1))]),_:1},8,["disabled"]),s(t(f),{type:"button",variant:"outline","as-child":""},{default:a(()=>[s(t(c),{href:`/admin/guests/${i.guest.id}`},{default:a(()=>[...e[13]||(e[13]=[o("Cancel",-1)])]),_:1},8,["href"])]),_:1})])],32)]),_:1})]),_:1}),l("div",tt,[s(t(_),null,{default:a(()=>[s(t(v),null,{default:a(()=>[s(t(x),{class:"text-lg"},{default:a(()=>[...e[14]||(e[14]=[o("Guest Information",-1)])]),_:1})]),_:1}),s(t(b),{class:"space-y-4"},{default:a(()=>[l("div",et,[e[15]||(e[15]=l("span",{class:"text-sm font-medium"},"RSVP Status",-1)),s(t(V),{variant:i.guest.has_rsvp?"default":"secondary"},{default:a(()=>[o(u(i.guest.has_rsvp?"Responded":"Pending"),1)]),_:1},8,["variant"])]),l("div",st,[e[16]||(e[16]=l("span",{class:"text-sm font-medium"},"Group",-1)),s(t(f),{variant:"ghost",size:"sm","as-child":""},{default:a(()=>[s(t(c),{href:`/admin/groups/${i.guest.group_id}`},{default:a(()=>[o(u(i.guest.group_name||"No group assigned"),1)]),_:1},8,["href"])]),_:1})]),l("div",at,[e[17]||(e[17]=l("span",{class:"text-sm font-medium"},"Created",-1)),l("span",lt,[s(t(h),{class:"h-3 w-3"}),o(" "+u(new Date(i.guest.created_at).toLocaleDateString()),1)])])]),_:1})]),_:1}),s(t(_),null,{default:a(()=>[s(t(v),null,{default:a(()=>[s(t(x),{class:"text-lg"},{default:a(()=>[...e[18]||(e[18]=[o("Quick Actions",-1)])]),_:1})]),_:1}),s(t(b),{class:"space-y-3"},{default:a(()=>[s(t(f),{class:"w-full",variant:"outline",onClick:C,disabled:i.guest.has_rsvp},{default:a(()=>[s(t(L),{class:"mr-2 h-4 w-4"}),e[19]||(e[19]=o(" Send RSVP Email ",-1))]),_:1},8,["disabled"]),s(t(f),{class:"w-full",variant:"outline","as-child":""},{default:a(()=>[s(t(c),{href:`/admin/groups/${i.guest.group_id}`},{default:a(()=>[s(t(F),{class:"mr-2 h-4 w-4"}),e[20]||(e[20]=o(" View Group ",-1))]),_:1},8,["href"])]),_:1})]),_:1})]),_:1}),i.guest.rsvp?(m(),A(t(_),{key:0},{default:a(()=>[s(t(v),null,{default:a(()=>[s(t(x),{class:"text-lg"},{default:a(()=>[...e[21]||(e[21]=[o("RSVP Details",-1)])]),_:1})]),_:1}),s(t(b),{class:"space-y-4"},{default:a(()=>[l("div",it,[e[22]||(e[22]=l("span",{class:"text-sm font-medium"},"Attending Count",-1)),s(t(V),{variant:"secondary"},{default:a(()=>[o(u(i.guest.rsvp.attending_count),1)]),_:1})]),l("div",ot,[e[23]||(e[23]=l("span",{class:"text-sm font-medium"},"Submitted",-1)),l("span",rt,[s(t(h),{class:"h-3 w-3"}),o(" "+u(new Date(i.guest.rsvp.submitted_at).toLocaleDateString()),1)])]),i.guest.rsvp.message?(m(),g("div",ut,[e[24]||(e[24]=l("span",{class:"text-sm font-medium"},"Message",-1)),l("p",dt,u(i.guest.rsvp.message),1)])):p("",!0),i.guest.rsvp.song_suggestion?(m(),g("div",nt,[e[25]||(e[25]=l("span",{class:"text-sm font-medium"},"Song Suggestion",-1)),l("p",mt,u(i.guest.rsvp.song_suggestion),1)])):p("",!0),s(t(f),{class:"mt-4 w-full",variant:"outline","as-child":""},{default:a(()=>[s(t(c),{href:`/admin/rsvps/${i.guest.rsvp.id}`},{default:a(()=>[...e[26]||(e[26]=[o(" View Full RSVP ",-1)])]),_:1},8,["href"])]),_:1})]),_:1})]),_:1})):p("",!0)])])])]),_:1})],64))}});export{Nt as default};
