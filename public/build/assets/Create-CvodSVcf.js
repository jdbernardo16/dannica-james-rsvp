import{d as B,k as f,m as I,q as y,g as A,w as _,b as e,D as L,c as n,o as a,F as T,r as Y,n as k,u as m,t as r,a as c,j as G,f as l,e as b,Q as q,p as z}from"./app-BaqzZnHq.js";import{_ as H}from"./CardContent.vue_vue_type_script_setup_true_lang-BqZt5Kgb.js";import{_ as S}from"./Input.vue_vue_type_script_setup_true_lang-DxueCMwF.js";import{_ as U}from"./Label.vue_vue_type_script_setup_true_lang-CYCaEj9h.js";import{C as J,M as O,_ as K,A as Q}from"./Textarea.vue_vue_type_script_setup_true_lang-CqgHDZdg.js";import{P as X}from"./PublicLayout-Dcdtxu5c.js";import{C as P}from"./circle-check-big-Ba49Ko0t.js";import{C as Z}from"./circle-alert-BI9rn5KS.js";import{P as ee}from"./plus-l6tkE67i.js";import{A as te}from"./arrow-left-C8U-dXkH.js";import{_ as se}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-Rhrh6p6F.js";import"./useForwardExpose-CxzTNuPd.js";import"./createLucideIcon-Ct0QZxrm.js";const ae={class:"relative min-h-screen w-full overflow-hidden bg-cover bg-center bg-no-repeat py-20",style:{"background-image":"url('/images/f1-bg.png')"}},ne={class:"wedding-smooth-scroll wedding-container relative z-10 px-4 py-8 text-white sm:py-10 lg:py-12"},le={class:"mx-auto max-w-4xl"},oe={class:"wedding-animate-slide-up mb-8 sm:mb-10 lg:mb-12"},ie={class:"wedding-progress-container"},de={class:"wedding-progress-bar"},re={class:"wedding-progress-steps"},ue=["onClick"],me={class:"wedding-progress-dot"},ce={key:1,class:"text-xs sm:text-sm"},ge={class:"wedding-progress-label text-xs sm:text-sm"},ve={class:"animateUp rounded-3xl bg-[#ebddd7] p-6 shadow-2xl sm:p-8",style:{"animation-delay":"0.2s"}},pe={key:0,class:"wedding-animate-page-transition space-y-6"},xe={class:"space-y-4"},fe={class:"relative flex flex-col items-center space-y-7"},we=["disabled"],be={key:0,class:"font-wedding-medium mt-1 text-sm text-red-600"},_e={key:0,class:"wedding-animate-fade-in flex items-center justify-center py-4"},he={key:1,class:"rounded-wedding-lg bg-wedding-ivory-bg shadow-wedding-soft wedding-animate-bounce-in wedding-success-animation border-2 border-[#4c0511] bg-white p-4"},ye={class:"flex flex-col items-center space-y-4"},ke={class:"font-wedding-semibold text-normal text-center text-[#4c0511] lg:text-2xl"},Se={key:0,class:"rounded-wedding mt-2 border border-yellow-300 bg-yellow-100 p-2"},Ue={class:"font-wedding-medium text-sm text-yellow-800"},Pe={key:2,class:"rounded-wedding-lg border-2 border-red-200 bg-red-50 p-4"},Ve={class:"flex items-start"},Ce={key:1,class:"wedding-animate-page-transition space-y-6 text-center"},Ae={key:0,class:"mb-6 rounded-2xl border-2 border-[#4c0511] bg-white/90 p-4"},Ee={class:"wedding-navy font-wedding-body"},Re={class:"space-y-4 text-center"},We={class:"mt-4 flex items-center justify-center space-x-4 sm:space-x-6"},je=["disabled"],Me={class:"animateUp w-16 text-center text-2xl font-bold text-[#4c0511] sm:w-20 sm:text-3xl"},Fe=["disabled"],Ne={class:"text-wedding-base sm:text-wedding-lg font-wedding-body wedding-navy mt-4 text-center"},$e={key:2,class:"wedding-animate-page-transition space-y-6"},De={class:"space-y-4"},Be={class:"mt-1 text-sm text-[#4c0511]"},Ie={key:3,class:"wedding-animate-page-transition space-y-6"},Le={class:"space-y-4"},Te={class:"wedding-navy font-wedding-body mt-1 text-sm"},Ye={key:4,class:"wedding-animate-page-transition space-y-6"},Ge={class:"space-y-4"},qe={key:0,class:"font-wedding-medium mt-1 text-sm text-red-600"},ze={key:5,class:"wedding-animate-page-transition space-y-6"},He={class:"space-y-6 rounded-2xl border-2 border-[#4c0511] bg-white/90 p-3 md:p-6"},Je={class:"text-wedding-lg mt-2 text-[#4c0511]"},Oe={class:"text-wedding-lg mt-2 text-[#4c0511]"},Ke={key:0,class:"wedding-divider"},Qe={key:1},Xe={class:"text-wedding-lg mt-2 whitespace-pre-wrap text-[#4c0511]"},Ze={key:2,class:"wedding-divider"},et={key:3},tt={class:"text-wedding-lg mt-2 text-[#4c0511]"},st={class:"text-wedding-lg mt-2 text-[#4c0511]"},at={class:"rounded-2xl border-2 border-[#4c0511] bg-white/90 p-4"},nt={class:"flex items-start"},lt={key:6,class:"mt-6 flex justify-between gap-4 sm:mt-8 sm:flex-row sm:gap-0"},ot=["disabled"],it=["disabled"],dt=["disabled"],rt={key:0,class:"wedding-loading mr-2 h-4 w-4 rounded-full border-b-2 border-white sm:mr-3 sm:h-5 sm:w-5"},ut={class:"text-sm sm:text-base"},mt=B({__name:"Create",setup(ct){const V=[{title:"Find Invitation"},{title:"Attendance"},{title:"Message"},{title:"Song"},{title:"Email"},{title:"Review"}],o=f(0),w=f(!1),x=f(!1),g=f(!1),i=f(null),u=f({}),s=f({guest_name:"",attending_count:0,message:"",song_suggestion:"",email:""});I(()=>s.value.guest_name,d=>{d===""&&(g.value=!1,i.value=null,u.value.guest_name="")});const h=y(()=>{switch(o.value){case 0:return g.value&&i.value&&!i.value.group?.has_rsvp;case 1:return!0;case 2:return!0;case 3:return!0;case 4:return s.value.email&&W(s.value.email);case 5:return!0;default:return!1}}),C=y(()=>h.value&&g.value&&i.value),E=y(()=>(o.value+1)/V.length*100),R=d=>{d<=o.value&&(o.value=d)},W=d=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d),j=async()=>{if(!s.value.guest_name.trim()){u.value.guest_name="Please enter your full name";return}w.value=!0,u.value.guest_name="";try{const d=await q.post("/rsvp/check-guest",{name:s.value.guest_name});d.data.found?(g.value=!0,i.value=d.data,d.data.group?.has_rsvp&&(u.value.guest_name="This invitation has already submitted an RSVP. Please contact the couple if you need to make changes.")):(g.value=!1,i.value=null,u.value.guest_name=d.data.message||"Guest not found")}catch(d){console.error("Error checking guest:",d),u.value.guest_name="An error occurred while checking your name. Please try again.",g.value=!1,i.value=null}finally{w.value=!1}},M=()=>{const d=i.value?.group?.max_attendees||0;s.value.attending_count<d&&s.value.attending_count++},F=()=>{s.value.attending_count>0&&s.value.attending_count--},N=()=>{h.value&&o.value++},$=()=>{o.value>0&&o.value--},D=()=>{if(!C.value)return;x.value=!0,u.value={};const d={group_name:i.value?.group?.name,guest_names:i.value?.group_guests||[s.value.guest_name],email:s.value.email,attending_count:s.value.attending_count,message:s.value.message,song_suggestion:s.value.song_suggestion};z.post("/rsvp/store",d,{onSuccess:()=>{},onError:t=>{typeof t=="object"&&t!==null&&(u.value=Object.fromEntries(Object.entries(t).map(([v,p])=>[v,String(p)]))),o.value=0},onFinish:()=>{x.value=!1}})};return(d,t)=>(a(),A(X,{title:"RSVP - James & Dannica's Wedding",description:"Please fill out this form to let us know if you can attend our special day",showHeader:!1,showFooter:!1},{default:_(()=>[e("div",ae,[e("div",ne,[e("div",le,[t[29]||(t[29]=e("div",{class:"wedding-header wedding-animate-bounce-in mb-8 text-center sm:mb-10 lg:mb-12"},[e("h3",{class:"font-wedding-accent animateUp text-center text-[6rem] tracking-widest sm:text-[8rem]"}," James & Dannica's Wedding "),e("div",{class:"wedding-divider wedding-animate-gold-shimmer mt-4 mb-3 sm:mt-6 sm:mb-4"}),e("p",{class:"animateUp mt-6 font-playfair text-3xl sm:text-4xl",style:{"animation-delay":"0.3s"}}," We're so excited to celebrate with you! "),e("p",{class:"animateUp mt-4 font-playfair text-2xl sm:text-3xl",style:{"animation-delay":"0.5s"}}," Please fill out this form to let us know if you can attend our special day. ")],-1)),e("div",oe,[e("div",ie,[e("div",de,[e("div",{class:"wedding-progress-fill",style:L({width:E.value+"%"})},null,4)]),e("div",re,[(a(),n(T,null,Y(V,(v,p)=>e("div",{key:p,class:k(["wedding-progress-step",{active:o.value===p,completed:o.value>p}]),onClick:gt=>R(p)},[e("div",me,[o.value>p?(a(),A(m(P),{key:0,class:"h-3 w-3 sm:h-4 sm:w-4"})):(a(),n("span",ce,r(p+1),1))]),e("span",ge,r(v.title),1)],10,ue)),64))])])]),e("div",ve,[c(m(H),{class:"p-0 sm:p-8"},{default:_(()=>[e("form",{onSubmit:G(D,["prevent"])},[o.value===0?(a(),n("div",pe,[t[8]||(t[8]=e("div",{class:"text-center"},[e("h3",{class:"font-wedding-accent animateUp text-center text-[4rem] text-[#4c0511] sm:text-[5rem]"}," Find My Invitation "),e("div",{class:"animateUp mx-auto mt-4 h-1 w-20 rounded bg-[#4c0511]"}),e("p",{class:"animateUp mt-4 font-playfair text-xl text-[#4c0511] sm:text-2xl"}," Kindly enter your full name to find your invitation and RSVP ")],-1)),e("div",xe,[e("div",null,[e("div",fe,[c(m(S),{id:"guest_name",modelValue:s.value.guest_name,"onUpdate:modelValue":t[0]||(t[0]=v=>s.value.guest_name=v),type:"text",placeholder:"Enter your full name",disabled:w.value,required:"",class:k(["mt-2 w-full rounded-lg border-2 border-[#4c0511] bg-white/90 px-4 py-3 pr-12 text-[#4c0511] transition-all duration-300 focus:ring-2 focus:ring-[#4c0511] focus:outline-none",{error:u.value.guest_name,success:g.value&&!u.value.guest_name}])},null,8,["modelValue","disabled","class"]),!g.value&&!i.value?(a(),n("button",{key:0,type:"button",onClick:j,class:"wedding-touch-target-lg rounded-full bg-[#4c0511] px-6 py-3 font-bold text-white transition-all duration-300 hover:scale-105 hover:bg-[#3a010d]",disabled:w.value||!s.value.guest_name.trim(),title:"Find My Invitation"}," Search ",8,we)):l("",!0)]),u.value.guest_name?(a(),n("p",be,r(u.value.guest_name),1)):l("",!0)]),w.value?(a(),n("div",_e,[...t[4]||(t[4]=[e("div",{class:"wedding-loading h-8 w-8 rounded-full border-b-2 border-[#4c0511]"},null,-1),e("span",{class:"wedding-navy font-wedding-medium wedding-animate-pulse ml-2"},"Searching for your invitation...",-1)])])):l("",!0),g.value&&i.value?(a(),n("div",he,[e("div",ye,[c(m(P),{class:"mt-0.5 mr-2 h-7 w-7 text-[#4c0511]"}),e("div",null,[e("h4",ke,[b(" Welcome, "+r(s.value.guest_name)+"! ",1),t[5]||(t[5]=e("br",null,null,-1)),b(" You have "+r(i.value?.group?.max_attendees)+" reserved seat in your name. ",1)]),i.value.group?.has_rsvp?(a(),n("div",Se,[e("p",Ue,[c(m(Z),{class:"mr-1 inline h-4 w-4"}),t[6]||(t[6]=b(" This invitation has already submitted an RSVP. Please contact the couple if you need to make changes. ",-1))])])):l("",!0)])])])):l("",!0),!g.value&&s.value.guest_name&&!w.value&&u.value.guest_name?(a(),n("div",Pe,[e("div",Ve,[c(m(J),{class:"mt-0.5 mr-2 h-5 w-5 text-red-600"}),t[7]||(t[7]=e("div",null,[e("h3",{class:"font-wedding-semibold text-red-900"}," Invitation Not Found "),e("p",{class:"font-wedding-body mt-1 text-sm text-red-700"}," We couldn't find your invitation. Please check the spelling of your name or contact the couple for assistance. ")],-1))])])):l("",!0)])])):l("",!0),o.value===1?(a(),n("div",Ce,[t[10]||(t[10]=e("div",null,[e("h3",{class:"font-wedding-accent animateUp text-center text-[4rem] text-[#4c0511] sm:text-[5rem]"}," Will You Be Attending? "),e("div",{class:"animateUp mx-auto mt-4 h-1 w-20 rounded bg-[#4c0511]"}),e("p",{class:"animateUp mt-4 font-playfair text-xl text-[#4c0511] sm:text-2xl"}," Let us know how many people from your group will be attending the wedding. ")],-1)),i.value?(a(),n("div",Ae,[e("p",Ee," Maximum attendees: "+r(i.value.group?.max_attendees),1)])):l("",!0),e("div",Re,[e("div",null,[t[9]||(t[9]=e("p",{for:"attending_count",class:"m-auto text-center font-bold text-[#4c0511]"}," Number of Attendees ",-1)),e("div",We,[e("button",{type:"button",class:"wedding-hover-scale wedding-touch-target-lg rounded-full bg-[#4c0511] px-4 py-2 text-white transition-all duration-300 hover:scale-105 hover:bg-[#3a010d]",onClick:F,disabled:s.value.attending_count<=0},[c(m(O),{class:"h-4 w-4 sm:h-5 sm:w-5"})],8,je),e("div",Me,r(s.value.attending_count),1),e("button",{type:"button",class:"wedding-hover-scale wedding-touch-target-lg rounded-full bg-[#4c0511] px-4 py-2 text-white transition-all duration-300 hover:scale-105 hover:bg-[#3a010d]",onClick:M,disabled:s.value.attending_count>=(i.value?.group?.max_attendees||0)},[c(m(ee),{class:"h-4 w-4 sm:h-5 sm:w-5"})],8,Fe)]),e("p",Ne,r(s.value.attending_count===0?"We're sorry you can't make it. We'll miss you!":`Great! We're excited to celebrate with ${s.value.attending_count} ${s.value.attending_count===1?"person":"people"}.`),1)])])])):l("",!0),o.value===2?(a(),n("div",$e,[t[12]||(t[12]=e("div",null,[e("h3",{class:"font-wedding-accent animateUp text-center text-[4rem] text-[#4c0511] sm:text-[5rem]"}," Message to the Couple "),e("div",{class:"animateUp mx-auto mt-4 h-1 w-20 rounded bg-[#4c0511]"}),e("p",{class:"animateUp mt-4 font-playfair text-xl text-[#4c0511] sm:text-2xl"}," Share a special message or well wishes with us (optional). ")],-1)),e("div",De,[e("div",null,[c(m(U),{for:"message",class:"font-bold text-[#4c0511]"},{default:_(()=>[...t[11]||(t[11]=[b(" Your Message ",-1)])]),_:1}),c(m(K),{id:"message",modelValue:s.value.message,"onUpdate:modelValue":t[1]||(t[1]=v=>s.value.message=v),placeholder:"Write your message here...",rows:"5",maxlength:"1000",class:"mt-2 w-full rounded-lg border-2 border-[#4c0511] bg-white/90 px-4 py-3 text-[#4c0511] transition-all duration-300 focus:ring-2 focus:ring-[#4c0511] focus:outline-none"},null,8,["modelValue"]),e("p",Be,r(s.value.message?.length||0)+"/1000 characters ",1)])])])):l("",!0),o.value===3?(a(),n("div",Ie,[t[14]||(t[14]=e("div",null,[e("h3",{class:"font-wedding-accent animateUp text-center text-[4rem] text-[#4c0511] sm:text-[5rem]"}," Song Suggestion "),e("div",{class:"animateUp mx-auto mt-4 h-1 w-20 rounded bg-[#4c0511]"}),e("p",{class:"animateUp mt-4 font-playfair text-xl text-[#4c0511] sm:text-2xl"}," Help us create the perfect playlist! Suggest a song that would make you want to dance (optional). ")],-1)),e("div",Le,[e("div",null,[c(m(U),{for:"song_suggestion",class:"font-bold text-[#4c0511]"},{default:_(()=>[...t[13]||(t[13]=[b(" Song Title & Artist ",-1)])]),_:1}),c(m(S),{id:"song_suggestion",modelValue:s.value.song_suggestion,"onUpdate:modelValue":t[2]||(t[2]=v=>s.value.song_suggestion=v),type:"text",placeholder:"e.g., 'Perfect - Ed Sheeran'",maxlength:"255",class:"mt-2 w-full rounded-lg border-2 border-[#4c0511] bg-white/90 px-4 py-3 text-[#4c0511] transition-all duration-300 focus:ring-2 focus:ring-[#4c0511] focus:outline-none"},null,8,["modelValue"]),e("p",Te,r(s.value.song_suggestion?.length||0)+"/255 characters ",1)])])])):l("",!0),o.value===4?(a(),n("div",Ye,[t[17]||(t[17]=e("div",null,[e("h3",{class:"font-wedding-accent animateUp text-center text-[4rem] text-[#4c0511] sm:text-[5rem]"}," Email Address "),e("div",{class:"animateUp mx-auto mt-4 h-1 w-20 rounded bg-[#4c0511]"}),e("p",{class:"animateUp mt-4 font-playfair text-xl text-[#4c0511] sm:text-2xl"}," Provide your email address for confirmation and updates about the wedding. ")],-1)),e("div",Ge,[e("div",null,[c(m(U),{for:"email",class:"font-bold text-[#4c0511]"},{default:_(()=>[...t[15]||(t[15]=[b(" Email Address ",-1)])]),_:1}),c(m(S),{id:"email",modelValue:s.value.email,"onUpdate:modelValue":t[3]||(t[3]=v=>s.value.email=v),type:"email",placeholder:"your.email@example.com",required:"",class:k(["mt-2 w-full rounded-lg border-2 border-[#4c0511] bg-white/90 px-4 py-3 text-[#4c0511] transition-all duration-300 focus:ring-2 focus:ring-[#4c0511] focus:outline-none",{error:u.value.email,success:s.value.email&&!u.value.email}])},null,8,["modelValue","class"]),u.value.email?(a(),n("p",qe,r(u.value.email),1)):l("",!0),t[16]||(t[16]=e("p",{class:"wedding-navy font-wedding-body mt-1 text-sm"}," We'll use this to send you a confirmation and any important updates. ",-1))])])])):l("",!0),o.value===5?(a(),n("div",ze,[t[26]||(t[26]=e("div",null,[e("h3",{class:"font-wedding-accent animateUp text-center text-[4rem] text-[#4c0511] sm:text-[5rem]"}," Review Your RSVP "),e("div",{class:"animateUp mx-auto mt-4 h-1 w-20 rounded bg-[#4c0511]"}),e("p",{class:"animateUp mt-4 font-playfair text-xl text-[#4c0511] sm:text-2xl"}," Please review your information before submitting. ")],-1)),e("div",He,[e("div",null,[t[18]||(t[18]=e("h3",{class:"text-wedding-xl font-bold text-[#4c0511]"}," Guest Information ",-1)),e("p",Je,r(s.value.guest_name),1)]),t[23]||(t[23]=e("div",{class:"wedding-divider"},null,-1)),e("div",null,[t[19]||(t[19]=e("h3",{class:"text-wedding-xl font-bold text-[#4c0511]"}," Attendance ",-1)),e("p",Oe,r(s.value.attending_count)+" "+r(s.value.attending_count===1?"person":"people")+" attending ",1)]),s.value.message?(a(),n("div",Ke)):l("",!0),s.value.message?(a(),n("div",Qe,[t[20]||(t[20]=e("h3",{class:"text-wedding-xl font-bold text-[#4c0511]"}," Message ",-1)),e("p",Xe,r(s.value.message),1)])):l("",!0),s.value.song_suggestion?(a(),n("div",Ze)):l("",!0),s.value.song_suggestion?(a(),n("div",et,[t[21]||(t[21]=e("h3",{class:"text-wedding-xl font-bold text-[#4c0511]"}," Song Suggestion ",-1)),e("p",tt,r(s.value.song_suggestion),1)])):l("",!0),t[24]||(t[24]=e("div",{class:"wedding-divider"},null,-1)),e("div",null,[t[22]||(t[22]=e("h3",{class:"text-wedding-xl font-bold text-[#4c0511]"}," Email ",-1)),e("p",st,r(s.value.email),1)])]),e("div",at,[e("div",nt,[c(m(P),{class:"mt-0.5 mr-2 h-5 w-5 text-green-600"}),t[25]||(t[25]=e("div",null,[e("h3",{class:"font-wedding-semibold text-green-900"}," Ready to Submit "),e("p",{class:"font-wedding-body mt-1 text-sm text-green-700"}," Click the submit button below to complete your RSVP. You'll receive a confirmation email shortly. ")],-1))])])])):l("",!0),g.value&&i.value?(a(),n("div",lt,[e("button",{type:"button",class:"wedding-touch-target-lg flex w-full items-center justify-center rounded-full bg-[#4c0511] px-4 py-3 font-bold text-white transition-all duration-300 hover:scale-105 hover:bg-[#3a010d] sm:w-1/2 sm:px-6 lg:w-auto",onClick:$,disabled:o.value===0||x.value},[c(m(te),{class:"mr-2 h-4 w-4 sm:mr-3 sm:h-5 sm:w-5"}),t[27]||(t[27]=e("span",{class:"text-sm sm:text-base"},"Previous",-1))],8,ot),o.value<5?(a(),n("button",{key:0,type:"button",class:"wedding-touch-target-lg flex w-full items-center justify-center rounded-full bg-[#4c0511] px-4 py-3 font-bold text-white transition-all duration-300 hover:scale-105 hover:bg-[#3a010d] sm:w-1/2 sm:px-6 lg:w-auto",onClick:N,disabled:!h.value||x.value},[t[28]||(t[28]=e("span",{class:"text-sm sm:text-base"},"Next",-1)),c(m(Q),{class:"ml-2 h-4 w-4 sm:ml-3 sm:h-5 sm:w-5"})],8,it)):l("",!0),o.value===5?(a(),n("button",{key:1,type:"submit",class:"wedding-touch-target-lg flex w-full items-center justify-center rounded-full bg-[#4c0511] px-4 py-3 font-bold text-white transition-all duration-300 hover:scale-105 hover:bg-[#3a010d] sm:w-1/2 sm:px-6 lg:w-auto",disabled:x.value||!C.value},[x.value?(a(),n("div",rt)):l("",!0),e("span",ut,r(x.value?"Submitting...":"Submit RSVP"),1)],8,dt)):l("",!0)])):l("",!0)],32)]),_:1})])])])])]),_:1}))}}),Ct=se(mt,[["__scopeId","data-v-70db0b10"]]);export{Ct as default};
