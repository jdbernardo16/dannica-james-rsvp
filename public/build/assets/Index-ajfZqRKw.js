import{_ as q}from"./index-O5leNIWi.js";import{_ as i}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DLmO09HA.js";import{_ as h,a as D,b as G,c as T}from"./CardTitle.vue_vue_type_script_setup_true_lang-C6klpHgl.js";import{_ as P}from"./CardContent.vue_vue_type_script_setup_true_lang-Bs58nlSM.js";import{_ as I,a as O,b as J,c as K,d as Q}from"./DialogTitle.vue_vue_type_script_setup_true_lang-fLd7d4FH.js";import{_ as W}from"./DialogFooter.vue_vue_type_script_setup_true_lang-C4mBvzJm.js";import{_ as X}from"./Input.vue_vue_type_script_setup_true_lang-DpAxOJlY.js";import{_ as L,a as M,b as N,c as A,d as m}from"./SelectValue.vue_vue_type_script_setup_true_lang-B2ruroqW.js";import{_ as Y,a as Z,b as B,c as $,d as ee,e as b}from"./TableCell.vue_vue_type_script_setup_true_lang-C6Xmp5Qn.js";import{_ as te}from"./AdminLayout.vue_vue_type_script_setup_true_lang-WU9jfn1w.js";import{d as ae,k as x,m as le,p as F,c as _,a as t,u as e,h as se,w as a,b as r,l as y,e as u,t as n,g as k,f as ue,o as d,F as V,r as j}from"./app-BXKjlQFq.js";import{P as z}from"./plus-DMIAj5Da.js";import{S as re}from"./search-B08ipMlN.js";import{E as ne}from"./eye-BuhZ2SP7.js";import{S as oe}from"./square-pen-D6XzZ5LY.js";import{T as de}from"./trash-2-5JAl5Dro.js";import"./Primitive-B8N1HuSX.js";import"./utils-TfETDaq2.js";import"./useForwardExpose-DptBHhzs.js";import"./OptimizedImage.vue_vue_type_script_setup_true_lang-PZuH7NFd.js";import"./VisuallyHidden-CYhX9n3k.js";import"./AppSidebarHeader.vue_vue_type_script_setup_true_lang-BwaG1OWd.js";import"./createLucideIcon-CxUQFIxD.js";import"./RovingFocusGroup-BiM7lcIP.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-tRkDTNlQ.js";import"./check-DdcvyshV.js";import"./chevron-down-BO_7nHvF.js";import"./useFormControl-CoZ0zezA.js";import"./index-opWzLI44.js";import"./mail-DEfHHeCh.js";const ie={class:"space-y-6 p-6"},fe={class:"flex items-center justify-between"},me={class:"grid gap-4 md:grid-cols-4"},pe={class:"relative"},_e={key:0,class:"py-8 text-center"},ve={class:"flex items-center justify-end gap-2"},ge={key:2,class:"mt-4"},ce={class:"flex items-center justify-between"},$e={class:"text-sm text-muted-foreground"},be={class:"flex items-center gap-2"},xe=["innerHTML"],ye=["innerHTML"],et=ae({__name:"Index",props:{groups:{},filters:{}},setup(o){const w=o,v=x(w.filters.search),g=x(w.filters.status),c=x(w.filters.per_page),p=x(!1),f=x(null),E=[{title:"Dashboard",href:"/admin/dashboard"},{title:"Groups",href:"/admin/groups"}];le([v,g,c],()=>{F.get("/admin/groups",{search:v.value,status:g.value,per_page:c.value},{preserveState:!0,replace:!0})});const H=S=>{const l=w.groups.data.find(s=>s.id===S);l&&(f.value=l,p.value=!0)},U=()=>{f.value&&F.delete(`/admin/groups/${f.value.id}/delete`,{preserveScroll:!0,onSuccess:()=>{p.value=!1,f.value=null},onError:()=>{p.value=!1,f.value=null}})},R=()=>{p.value=!1,f.value=null},C=S=>S?{variant:"default",label:"Responded"}:{variant:"secondary",label:"Pending"};return(S,l)=>(d(),_(V,null,[t(e(se),{title:"Groups - Admin"}),t(te,{breadcrumbs:E},{default:a(()=>[r("div",ie,[r("div",fe,[l[6]||(l[6]=r("div",null,[r("h1",{class:"text-3xl font-bold tracking-tight"},"Groups"),r("p",{class:"text-muted-foreground"}," Manage guest groups for your wedding ")],-1)),t(e(i),{"as-child":""},{default:a(()=>[t(e(y),{href:"/admin/groups/create"},{default:a(()=>[t(e(z),{class:"mr-2 h-4 w-4"}),l[5]||(l[5]=u(" Add Group ",-1))]),_:1})]),_:1})]),t(e(h),null,{default:a(()=>[t(e(D),null,{default:a(()=>[t(e(G),null,{default:a(()=>[...l[7]||(l[7]=[u("Filters",-1)])]),_:1}),t(e(T),null,{default:a(()=>[...l[8]||(l[8]=[u(" Search and filter groups ",-1)])]),_:1})]),_:1}),t(e(P),null,{default:a(()=>[r("div",me,[r("div",pe,[t(e(re),{class:"absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),t(e(X),{modelValue:v.value,"onUpdate:modelValue":l[0]||(l[0]=s=>v.value=s),placeholder:"Search groups...",class:"pl-10"},null,8,["modelValue"])]),t(e(L),{modelValue:g.value,"onUpdate:modelValue":l[1]||(l[1]=s=>g.value=s)},{default:a(()=>[t(e(M),null,{default:a(()=>[t(e(N),{placeholder:"Filter by status"})]),_:1}),t(e(A),null,{default:a(()=>[t(e(m),{value:"all"},{default:a(()=>[...l[9]||(l[9]=[u("All Status",-1)])]),_:1}),t(e(m),{value:"responded"},{default:a(()=>[...l[10]||(l[10]=[u("Responded",-1)])]),_:1}),t(e(m),{value:"pending"},{default:a(()=>[...l[11]||(l[11]=[u("Pending",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(e(L),{modelValue:c.value,"onUpdate:modelValue":l[2]||(l[2]=s=>c.value=s)},{default:a(()=>[t(e(M),null,{default:a(()=>[t(e(N),{placeholder:"Per page"})]),_:1}),t(e(A),null,{default:a(()=>[t(e(m),{value:"10"},{default:a(()=>[...l[12]||(l[12]=[u("10 per page",-1)])]),_:1}),t(e(m),{value:"25"},{default:a(()=>[...l[13]||(l[13]=[u("25 per page",-1)])]),_:1}),t(e(m),{value:"50"},{default:a(()=>[...l[14]||(l[14]=[u("50 per page",-1)])]),_:1}),t(e(m),{value:"100"},{default:a(()=>[...l[15]||(l[15]=[u("100 per page",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(e(i),{variant:"outline",onClick:l[3]||(l[3]=s=>{v.value="",g.value="",c.value="10"})},{default:a(()=>[...l[16]||(l[16]=[u(" Reset Filters ",-1)])]),_:1})])]),_:1})]),_:1}),t(e(h),null,{default:a(()=>[t(e(D),null,{default:a(()=>[t(e(G),null,{default:a(()=>[u("Groups ("+n(o.groups.total)+")",1)]),_:1}),t(e(T),null,{default:a(()=>[u(" Showing "+n(o.groups.from)+" to "+n(o.groups.to)+" of "+n(o.groups.total)+" groups ",1)]),_:1})]),_:1}),t(e(P),null,{default:a(()=>[o.groups.data.length===0?(d(),_("div",_e,[l[18]||(l[18]=r("p",{class:"text-muted-foreground"},"No groups found",-1)),t(e(i),{class:"mt-4","as-child":""},{default:a(()=>[t(e(y),{href:"/admin/groups/create"},{default:a(()=>[t(e(z),{class:"mr-2 h-4 w-4"}),l[17]||(l[17]=u(" Create your first group ",-1))]),_:1})]),_:1})])):(d(),k(e(Y),{key:1},{default:a(()=>[t(e(Z),null,{default:a(()=>[t(e(B),null,{default:a(()=>[t(e($),null,{default:a(()=>[...l[19]||(l[19]=[u("Group Name",-1)])]),_:1}),t(e($),null,{default:a(()=>[...l[20]||(l[20]=[u("Guests",-1)])]),_:1}),t(e($),null,{default:a(()=>[...l[21]||(l[21]=[u("Status",-1)])]),_:1}),t(e($),null,{default:a(()=>[...l[22]||(l[22]=[u("Created",-1)])]),_:1}),t(e($),{class:"text-right"},{default:a(()=>[...l[23]||(l[23]=[u("Actions",-1)])]),_:1})]),_:1})]),_:1}),t(e(ee),null,{default:a(()=>[(d(!0),_(V,null,j(o.groups.data,s=>(d(),k(e(B),{key:s.id},{default:a(()=>[t(e(b),{class:"font-medium"},{default:a(()=>[u(n(s.name),1)]),_:2},1024),t(e(b),null,{default:a(()=>[u(n(s.guest_count)+" / "+n(s.max_attendees),1)]),_:2},1024),t(e(b),null,{default:a(()=>[t(e(q),{variant:C(s.has_rsvp).variant},{default:a(()=>[u(n(C(s.has_rsvp).label),1)]),_:2},1032,["variant"])]),_:2},1024),t(e(b),null,{default:a(()=>[u(n(new Date(s.created_at).toLocaleDateString()),1)]),_:2},1024),t(e(b),{class:"text-right"},{default:a(()=>[r("div",ve,[t(e(i),{variant:"ghost",size:"sm","as-child":""},{default:a(()=>[t(e(y),{href:`/admin/groups/${s.id}`},{default:a(()=>[t(e(ne),{class:"h-4 w-4"})]),_:1},8,["href"])]),_:2},1024),t(e(i),{variant:"ghost",size:"sm","as-child":""},{default:a(()=>[t(e(y),{href:`/admin/groups/${s.id}/edit`},{default:a(()=>[t(e(oe),{class:"h-4 w-4"})]),_:1},8,["href"])]),_:2},1024),t(e(i),{variant:"ghost",size:"sm",onClick:we=>H(s.id),class:"text-destructive hover:text-destructive"},{default:a(()=>[t(e(de),{class:"h-4 w-4"})]),_:1},8,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})),o.groups.last_page>1?(d(),_("div",ge,[r("div",ce,[r("div",$e," Page "+n(o.groups.current_page)+" of "+n(o.groups.last_page),1),r("div",be,[(d(!0),_(V,null,j(o.groups.links,s=>(d(),k(e(i),{key:s.label,variant:s.active?"default":"outline",disabled:!s.url,size:"sm","as-child":""},{default:a(()=>[s.url?(d(),k(e(y),{key:0,href:s.url},{default:a(()=>[r("span",{innerHTML:s.label},null,8,xe)]),_:2},1032,["href"])):(d(),_("span",{key:1,innerHTML:s.label},null,8,ye))]),_:2},1032,["variant","disabled"]))),128))])])])):ue("",!0)]),_:1})]),_:1})]),t(e(I),{open:p.value,"onUpdate:open":l[4]||(l[4]=s=>p.value=s)},{default:a(()=>[t(e(O),null,{default:a(()=>[t(e(J),null,{default:a(()=>[t(e(K),null,{default:a(()=>[...l[24]||(l[24]=[u("Delete Group",-1)])]),_:1}),t(e(Q),null,{default:a(()=>[u(' Are you sure you want to delete group "'+n(f.value?.name)+'"? This action cannot be undone. ',1)]),_:1})]),_:1}),t(e(W),null,{default:a(()=>[t(e(i),{variant:"secondary",onClick:R},{default:a(()=>[...l[25]||(l[25]=[u(" Cancel ",-1)])]),_:1}),t(e(i),{variant:"destructive",onClick:U},{default:a(()=>[...l[26]||(l[26]=[u(" Delete Group ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),_:1})],64))}});export{et as default};
