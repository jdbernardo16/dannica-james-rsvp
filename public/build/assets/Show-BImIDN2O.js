import{_ as f}from"./index-Ca6IhMNi.js";import{_ as v}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CZ56-U16.js";import{_,a as h,b,c as G}from"./CardTitle.vue_vue_type_script_setup_true_lang-DrZ5an9j.js";import{_ as y}from"./CardContent.vue_vue_type_script_setup_true_lang-CWAvcYt0.js";import{_ as j}from"./Separator.vue_vue_type_script_setup_true_lang-0PDUrbM-.js";import{U as k,_ as D}from"./AdminLayout.vue_vue_type_script_setup_true_lang-D_mnxqHy.js";import{d as C,q as V,c as o,a as s,u as e,h as B,w as l,b as a,l as p,e as u,t as i,o as d,F as R,r as F,n as L,f as g,g as M}from"./app-CmTrqmps.js";import{A as U}from"./arrow-left-C5moARK0.js";import{S as q}from"./square-pen-BfGllhVh.js";import{U as E}from"./user-CGf_ntJ_.js";import{M as N}from"./mail-BmtclD9M.js";import{C as S}from"./calendar-BUs4l6b6.js";import{M as I,a as T}from"./music-DfmwfY9-.js";import"./Primitive-sfuLFN_S.js";import"./utils-TfETDaq2.js";import"./useForwardExpose-tR5yqFES.js";import"./OptimizedImage.vue_vue_type_script_setup_true_lang-C6M7A6J-.js";import"./AppSidebarHeader.vue_vue_type_script_setup_true_lang-BFspj7_J.js";import"./createLucideIcon-DHLv5KjZ.js";import"./VisuallyHidden-RLdob_WU.js";import"./RovingFocusGroup-CCtqAppH.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-CX3Q6MXf.js";import"./index-C3cvPsKy.js";const z={class:"space-y-6 p-6"},H={class:"flex items-center justify-between gap-4"},Q={class:"flex items-center gap-4"},J={class:"text-muted-foreground"},K={class:"grid gap-6 lg:grid-cols-3"},O={class:"space-y-6 lg:col-span-2"},W={class:"grid gap-4 md:grid-cols-2"},X={class:"flex items-center gap-2"},Y={class:"font-medium"},Z={class:"flex items-center gap-2"},tt={class:"flex items-center gap-2"},et={key:0,class:"py-8 text-center text-muted-foreground"},st={key:1,class:"space-y-4"},at={class:"mb-3 flex items-start justify-between"},lt={class:"flex items-center gap-2 text-sm text-muted-foreground"},nt={class:"mb-3 grid gap-3 md:grid-cols-2"},ut={class:"ml-2"},it={class:"ml-2"},dt={key:0,class:"mb-3"},ot={class:"mb-2 flex items-center gap-2 text-sm font-medium"},rt={class:"rounded-md bg-muted/50 p-3"},mt={class:"text-sm whitespace-pre-wrap"},ft={key:1},gt={class:"mb-2 flex items-center gap-2 text-sm font-medium"},ct={class:"rounded-md bg-muted/50 p-3"},vt={class:"text-sm"},pt={class:"space-y-6 p-6"},xt={class:"flex items-center justify-between"},_t={key:0,class:"flex items-center justify-between"},ht={key:1,class:"flex items-center justify-between"},bt={key:2,class:"flex items-center justify-between"},yt={class:"flex items-center justify-between"},wt={key:0,class:"flex items-center gap-2"},kt=["href"],St={key:1,class:"text-sm text-muted-foreground"},Ot=C({__name:"Show",props:{guest:{}},setup(n){const w=n,A=(x,t)=>x===0?{variant:"destructive",label:"Not Attending"}:x>=t?{variant:"default",label:"Full Group Attending"}:{variant:"secondary",label:"Partial Attendance"},P=x=>new Date(x).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),c=V(()=>w.guest.group.rsvps&&w.guest.group.rsvps.length>0),m=V(()=>c.value?w.guest.group.rsvps[0]:null);return(x,t)=>(d(),o(R,null,[s(e(B),{title:"Guest Details - Admin"}),s(D,{breadcrumbs:[{title:"Dashboard",href:"/admin/dashboard"},{title:"Guests",href:"/admin/guests"},{title:n.guest.full_name,href:`/admin/guests/${n.guest.id}`}]},{default:l(()=>[a("div",z,[a("div",H,[a("div",Q,[s(e(v),{variant:"outline",size:"sm","as-child":""},{default:l(()=>[s(e(p),{href:"/admin/guests"},{default:l(()=>[s(e(U),{class:"mr-2 h-4 w-4"}),t[0]||(t[0]=u(" Back to Guests ",-1))]),_:1})]),_:1}),a("div",null,[t[1]||(t[1]=a("h1",{class:"text-3xl font-bold tracking-tight"}," Guest Details ",-1)),a("p",J," Information for "+i(n.guest.full_name),1)])]),s(e(v),{"as-child":""},{default:l(()=>[s(e(p),{href:`/admin/guests/${n.guest.id}/edit`},{default:l(()=>[s(e(q),{class:"mr-2 h-4 w-4"}),t[2]||(t[2]=u(" Edit Guest ",-1))]),_:1},8,["href"])]),_:1})]),a("div",K,[a("div",O,[s(e(_),null,{default:l(()=>[s(e(h),null,{default:l(()=>[s(e(b),null,{default:l(()=>[...t[3]||(t[3]=[u("Guest Information",-1)])]),_:1}),s(e(G),null,{default:l(()=>[...t[4]||(t[4]=[u(" Personal details of the guest ",-1)])]),_:1})]),_:1}),s(e(y),{class:"space-y-4"},{default:l(()=>[a("div",W,[a("div",null,[t[5]||(t[5]=a("h4",{class:"mb-1 text-sm font-medium text-muted-foreground"}," Full Name ",-1)),a("div",X,[s(e(E),{class:"h-4 w-4 text-muted-foreground"}),a("p",Y,i(n.guest.full_name),1)])]),a("div",null,[t[6]||(t[6]=a("h4",{class:"mb-1 text-sm font-medium text-muted-foreground"}," Email ",-1)),a("div",Z,[s(e(N),{class:"h-4 w-4 text-muted-foreground"}),a("p",null,i(n.guest.email||"No email provided"),1)])]),a("div",null,[t[7]||(t[7]=a("h4",{class:"mb-1 text-sm font-medium text-muted-foreground"}," Group ",-1)),a("div",tt,[s(e(k),{class:"h-4 w-4 text-muted-foreground"}),s(e(v),{variant:"link","as-child":"",class:"h-auto p-0 font-medium"},{default:l(()=>[s(e(p),{href:`/admin/groups/${n.guest.group.id}`},{default:l(()=>[u(i(n.guest.group.name),1)]),_:1},8,["href"])]),_:1})])]),a("div",null,[t[8]||(t[8]=a("h4",{class:"mb-1 text-sm font-medium text-muted-foreground"}," Max Attendees in Group ",-1)),a("p",null,i(n.guest.group.max_attendees)+" guests ",1)])])]),_:1})]),_:1}),s(e(_),null,{default:l(()=>[s(e(h),null,{default:l(()=>[s(e(b),null,{default:l(()=>[...t[9]||(t[9]=[u("Group RSVP History",-1)])]),_:1}),s(e(G),null,{default:l(()=>[...t[10]||(t[10]=[u(" Recent RSVP submissions from this group ",-1)])]),_:1})]),_:1}),s(e(y),null,{default:l(()=>[c.value?(d(),o("div",st,[(d(!0),o(R,null,F(n.guest.group.rsvps,(r,$)=>(d(),o("div",{key:r.id,class:L(["rounded-md border p-4",{"border-primary":$===0}])},[a("div",at,[a("div",null,[s(e(f),{variant:A(r.attending_count,n.guest.group.max_attendees).variant,class:"mb-2"},{default:l(()=>[u(i(A(r.attending_count,n.guest.group.max_attendees).label),1)]),_:2},1032,["variant"]),a("p",lt,[s(e(S),{class:"h-4 w-4"}),u(" "+i(P(r.submitted_at)),1)])]),$===0?(d(),M(e(f),{key:0,variant:"outline"},{default:l(()=>[...t[13]||(t[13]=[u("Latest",-1)])]),_:1})):g("",!0)]),a("div",nt,[a("div",null,[t[14]||(t[14]=a("span",{class:"text-sm font-medium"},"Attending:",-1)),a("span",ut,i(r.attending_count)+" out of "+i(n.guest.group.max_attendees),1)]),a("div",null,[t[15]||(t[15]=a("span",{class:"text-sm font-medium"},"Attendance Rate:",-1)),a("span",it,i(Math.round(r.attending_count/n.guest.group.max_attendees*100))+"% ",1)])]),r.message?(d(),o("div",dt,[a("h4",ot,[s(e(I),{class:"h-4 w-4"}),t[16]||(t[16]=u(" Message ",-1))]),a("div",rt,[a("p",mt,i(r.message),1)])])):g("",!0),r.song_suggestion?(d(),o("div",ft,[a("h4",gt,[s(e(T),{class:"h-4 w-4"}),t[17]||(t[17]=u(" Song Suggestion ",-1))]),a("div",ct,[a("p",vt,i(r.song_suggestion),1)])])):g("",!0)],2))),128))])):(d(),o("div",et,[s(e(S),{class:"mx-auto mb-4 h-12 w-12 opacity-50"}),t[11]||(t[11]=a("h3",{class:"mb-2 text-lg font-medium"}," No RSVPs Found ",-1)),t[12]||(t[12]=a("p",null," This guest's group has not submitted any RSVPs yet. ",-1))]))]),_:1})]),_:1})]),a("div",pt,[s(e(_),null,{default:l(()=>[s(e(h),null,{default:l(()=>[s(e(b),{class:"text-lg"},{default:l(()=>[...t[18]||(t[18]=[u("Quick Actions",-1)])]),_:1})]),_:1}),s(e(y),{class:"space-y-3"},{default:l(()=>[s(e(v),{class:"w-full",variant:"outline","as-child":""},{default:l(()=>[s(e(p),{href:`/admin/groups/${n.guest.group.id}`},{default:l(()=>[s(e(k),{class:"mr-2 h-4 w-4"}),t[19]||(t[19]=u(" View Group ",-1))]),_:1},8,["href"])]),_:1}),s(e(v),{class:"w-full",variant:"outline","as-child":""},{default:l(()=>[s(e(p),{href:`/admin/guests?group_id=${n.guest.group.id}`},{default:l(()=>[s(e(k),{class:"mr-2 h-4 w-4"}),t[20]||(t[20]=u(" View All Group Guests ",-1))]),_:1},8,["href"])]),_:1}),c.value&&m.value?(d(),M(e(v),{key:0,class:"w-full",variant:"outline","as-child":""},{default:l(()=>[s(e(p),{href:`/admin/rsvps/${m.value.id}`},{default:l(()=>[s(e(S),{class:"mr-2 h-4 w-4"}),t[21]||(t[21]=u(" View Latest RSVP ",-1))]),_:1},8,["href"])]),_:1})):g("",!0)]),_:1})]),_:1}),s(e(_),null,{default:l(()=>[s(e(h),null,{default:l(()=>[s(e(b),{class:"text-lg"},{default:l(()=>[...t[22]||(t[22]=[u("Group Statistics",-1)])]),_:1})]),_:1}),s(e(y),{class:"space-y-4"},{default:l(()=>[a("div",xt,[t[23]||(t[23]=a("span",{class:"text-sm font-medium"},"Max Attendees",-1)),s(e(f),{variant:"outline"},{default:l(()=>[u(i(n.guest.group.max_attendees),1)]),_:1})]),c.value&&m.value?(d(),o("div",_t,[t[24]||(t[24]=a("span",{class:"text-sm font-medium"},"Attending",-1)),s(e(f),{variant:m.value.attending_count>0?"default":"destructive"},{default:l(()=>[u(i(m.value.attending_count),1)]),_:1},8,["variant"])])):g("",!0),c.value&&m.value?(d(),o("div",ht,[t[25]||(t[25]=a("span",{class:"text-sm font-medium"},"Not Attending",-1)),s(e(f),{variant:"secondary"},{default:l(()=>[u(i(n.guest.group.max_attendees-m.value.attending_count),1)]),_:1})])):g("",!0),c.value&&m.value?(d(),o("div",bt,[t[26]||(t[26]=a("span",{class:"text-sm font-medium"},"Attendance Rate",-1)),s(e(f),{variant:"outline"},{default:l(()=>[u(i(Math.round(m.value.attending_count/n.guest.group.max_attendees*100))+"% ",1)]),_:1})])):g("",!0),s(e(j)),a("div",yt,[t[27]||(t[27]=a("span",{class:"text-sm font-medium"},"Total RSVPs",-1)),s(e(f),{variant:"outline"},{default:l(()=>[u(i(n.guest.group.rsvps.length),1)]),_:1})])]),_:1})]),_:1}),s(e(_),null,{default:l(()=>[s(e(h),null,{default:l(()=>[s(e(b),{class:"text-lg"},{default:l(()=>[...t[28]||(t[28]=[u("Contact Information",-1)])]),_:1})]),_:1}),s(e(y),{class:"space-y-3"},{default:l(()=>[n.guest.email?(d(),o("div",wt,[s(e(N),{class:"h-4 w-4 text-muted-foreground"}),a("a",{href:`mailto:${n.guest.email}`,class:"text-sm text-primary hover:underline"},i(n.guest.email),9,kt)])):(d(),o("div",St," No email address provided "))]),_:1})]),_:1})])])])]),_:1},8,["breadcrumbs"])],64))}});export{Ot as default};
