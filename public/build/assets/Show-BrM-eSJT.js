import{_ as f}from"./index-CB1HrkmB.js";import{_ as g}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-wHfDipdV.js";import{_,a as x,b as h,c as k}from"./CardTitle.vue_vue_type_script_setup_true_lang-9NeNNvwC.js";import{_ as y}from"./CardContent.vue_vue_type_script_setup_true_lang-C7UbJe0y.js";import{_ as U}from"./Separator.vue_vue_type_script_setup_true_lang-CqOsZ5KF.js";import{U as j,_ as F}from"./AdminLayout.vue_vue_type_script_setup_true_lang-D5tsK41R.js";import{d as z,q as $,c as r,a as s,u as e,h as B,w as a,b as l,l as p,e as i,t as u,o,F as A,r as P,n as C,f as c,g as M}from"./app-uTeBNO3m.js";import{A as L}from"./arrow-left-DjR7wmsZ.js";import{U as G}from"./user-plus-Dec4u7r6.js";import{S as N}from"./square-pen-C6tQNrUo.js";import{U as T}from"./user-Rsk2cfId.js";import{C as S}from"./calendar-Bk3VOPIA.js";import{M as q,a as I}from"./music-CaEANrb5.js";import{M as H}from"./mail-EyW5J1E4.js";import"./Primitive-D6Zf--NW.js";import"./utils-TfETDaq2.js";import"./useForwardExpose-Pf2dAzcd.js";import"./OptimizedImage.vue_vue_type_script_setup_true_lang-DtAT0ND3.js";import"./AppSidebarHeader.vue_vue_type_script_setup_true_lang-BlxWJr8v.js";import"./createLucideIcon-CwYfYG3s.js";import"./VisuallyHidden-BnzVpQGT.js";import"./RovingFocusGroup-CCqaQDp9.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-tRkDTNlQ.js";import"./index-opWzLI44.js";const Q={class:"space-y-6 p-6"},J={class:"flex items-center justify-between gap-4"},K={class:"flex items-center gap-4"},O={class:"text-muted-foreground"},W={class:"flex gap-2"},X={class:"grid gap-6 lg:grid-cols-3"},Y={class:"space-y-6 lg:col-span-2"},Z={class:"grid gap-4 md:grid-cols-2"},tt={class:"text-lg font-medium"},et={class:"font-medium"},st={key:0,class:"py-8 text-center text-muted-foreground"},at={key:1,class:"space-y-3"},lt={class:"font-medium"},it={class:"text-sm text-muted-foreground"},nt={class:"flex items-center gap-2"},ut={key:0,class:"py-8 text-center text-muted-foreground"},dt={key:1,class:"space-y-4"},ot={class:"mb-3 flex items-start justify-between"},rt={class:"flex items-center gap-2 text-sm text-muted-foreground"},mt={class:"flex gap-2"},ft={class:"mb-3 grid gap-3 md:grid-cols-2"},gt={class:"ml-2"},pt={class:"ml-2"},vt={key:0,class:"mb-3"},ct={class:"mb-2 flex items-center gap-2 text-sm font-medium"},_t={class:"rounded-md bg-muted/50 p-3"},xt={class:"text-sm whitespace-pre-wrap"},ht={key:1},yt={class:"mb-2 flex items-center gap-2 text-sm font-medium"},bt={class:"rounded-md bg-muted/50 p-3"},wt={class:"text-sm"},kt={class:"space-y-6 p-6"},$t={class:"flex items-center justify-between"},At={class:"flex items-center justify-between"},Gt={key:0,class:"flex items-center justify-between"},St={key:1,class:"flex items-center justify-between"},Vt={key:2,class:"flex items-center justify-between"},Rt={class:"flex items-center justify-between"},jt={class:"flex items-center justify-between"},Pt={class:"flex items-center justify-between"},Mt={key:0,class:"mt-3"},Nt={class:"mt-1 flex items-center gap-2"},Dt=["href"],ne=z({__name:"Show",props:{group:{}},setup(n){const w=n,V=(b,t)=>b===0?{variant:"destructive",label:"Not Attending"}:b>=t?{variant:"default",label:"Full Group Attending"}:{variant:"secondary",label:"Partial Attendance"},D=b=>new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),v=$(()=>w.group.rsvps&&w.group.rsvps.length>0),m=$(()=>v.value?w.group.rsvps[0]:null),E=$(()=>v.value?Math.round(m.value.attending_count/w.group.max_attendees*100):0);return(b,t)=>(o(),r(A,null,[s(e(B),{title:"Group Details - Admin"}),s(F,{breadcrumbs:[{title:"Dashboard",href:"/admin/dashboard"},{title:"Groups",href:"/admin/groups"},{title:n.group.name,href:`/admin/groups/${n.group.id}`}]},{default:a(()=>[l("div",Q,[l("div",J,[l("div",K,[s(e(g),{variant:"outline",size:"sm","as-child":""},{default:a(()=>[s(e(p),{href:"/admin/groups"},{default:a(()=>[s(e(L),{class:"mr-2 h-4 w-4"}),t[0]||(t[0]=i(" Back to Groups ",-1))]),_:1})]),_:1}),l("div",null,[t[1]||(t[1]=l("h1",{class:"text-3xl font-bold tracking-tight"}," Group Details ",-1)),l("p",O," Information for "+u(n.group.name),1)])]),l("div",W,[s(e(g),{variant:"outline","as-child":""},{default:a(()=>[s(e(p),{href:`/admin/guests/create?group_id=${n.group.id}`},{default:a(()=>[s(e(G),{class:"mr-2 h-4 w-4"}),t[2]||(t[2]=i(" Add Guest ",-1))]),_:1},8,["href"])]),_:1}),s(e(g),{"as-child":""},{default:a(()=>[s(e(p),{href:`/admin/groups/${n.group.id}/edit`},{default:a(()=>[s(e(N),{class:"mr-2 h-4 w-4"}),t[3]||(t[3]=i(" Edit Group ",-1))]),_:1},8,["href"])]),_:1})])]),l("div",X,[l("div",Y,[s(e(_),null,{default:a(()=>[s(e(x),null,{default:a(()=>[s(e(h),null,{default:a(()=>[...t[4]||(t[4]=[i("Group Information",-1)])]),_:1}),s(e(k),null,{default:a(()=>[...t[5]||(t[5]=[i(" Details about the group ",-1)])]),_:1})]),_:1}),s(e(y),{class:"space-y-4"},{default:a(()=>[l("div",Z,[l("div",null,[t[6]||(t[6]=l("h4",{class:"mb-1 text-sm font-medium text-muted-foreground"}," Group Name ",-1)),l("p",tt,u(n.group.name),1)]),l("div",null,[t[7]||(t[7]=l("h4",{class:"mb-1 text-sm font-medium text-muted-foreground"}," Maximum Attendees ",-1)),l("p",et,u(n.group.max_attendees)+" guests ",1)])])]),_:1})]),_:1}),s(e(_),null,{default:a(()=>[s(e(x),null,{default:a(()=>[s(e(h),null,{default:a(()=>[i("Group Guests ("+u(n.group.guests.length)+")",1)]),_:1}),s(e(k),null,{default:a(()=>[...t[8]||(t[8]=[i(" People in this group ",-1)])]),_:1})]),_:1}),s(e(y),null,{default:a(()=>[n.group.guests.length===0?(o(),r("div",st,[s(e(j),{class:"mx-auto mb-4 h-12 w-12 opacity-50"}),t[10]||(t[10]=l("h3",{class:"mb-2 text-lg font-medium"}," No Guests Found ",-1)),t[11]||(t[11]=l("p",null,"This group doesn't have any guests yet.",-1)),s(e(g),{class:"mt-4",variant:"outline","as-child":""},{default:a(()=>[s(e(p),{href:`/admin/guests/create?group_id=${n.group.id}`},{default:a(()=>[s(e(G),{class:"mr-2 h-4 w-4"}),t[9]||(t[9]=i(" Add First Guest ",-1))]),_:1},8,["href"])]),_:1})])):(o(),r("div",at,[(o(!0),r(A,null,P(n.group.guests,d=>(o(),r("div",{key:d.id,class:"flex items-center justify-between rounded-md border p-3"},[l("div",null,[l("p",lt,u(d.full_name),1),l("p",it,u(d.email||"No email provided"),1)]),l("div",nt,[s(e(g),{variant:"ghost",size:"sm","as-child":""},{default:a(()=>[s(e(p),{href:`/admin/guests/${d.id}`},{default:a(()=>[s(e(T),{class:"mr-2 h-4 w-4"}),t[12]||(t[12]=i(" View ",-1))]),_:1},8,["href"])]),_:2},1024),s(e(g),{variant:"ghost",size:"sm","as-child":""},{default:a(()=>[s(e(p),{href:`/admin/guests/${d.id}/edit`},{default:a(()=>[s(e(N),{class:"mr-2 h-4 w-4"}),t[13]||(t[13]=i(" Edit ",-1))]),_:1},8,["href"])]),_:2},1024)])]))),128))]))]),_:1})]),_:1}),s(e(_),null,{default:a(()=>[s(e(x),null,{default:a(()=>[s(e(h),null,{default:a(()=>[...t[14]||(t[14]=[i("RSVP History",-1)])]),_:1}),s(e(k),null,{default:a(()=>[...t[15]||(t[15]=[i(" Recent RSVP submissions from this group ",-1)])]),_:1})]),_:1}),s(e(y),null,{default:a(()=>[v.value?(o(),r("div",dt,[(o(!0),r(A,null,P(n.group.rsvps,(d,R)=>(o(),r("div",{key:d.id,class:C(["rounded-md border p-4",{"border-primary":R===0}])},[l("div",ot,[l("div",null,[s(e(f),{variant:V(d.attending_count,n.group.max_attendees).variant,class:"mb-2"},{default:a(()=>[i(u(V(d.attending_count,n.group.max_attendees).label),1)]),_:2},1032,["variant"]),l("p",rt,[s(e(S),{class:"h-4 w-4"}),i(" "+u(D(d.submitted_at)),1)])]),l("div",mt,[R===0?(o(),M(e(f),{key:0,variant:"outline"},{default:a(()=>[...t[18]||(t[18]=[i("Latest",-1)])]),_:1})):c("",!0),s(e(g),{variant:"outline",size:"sm","as-child":""},{default:a(()=>[s(e(p),{href:`/admin/rsvps/${d.id}`},{default:a(()=>[...t[19]||(t[19]=[i(" View Details ",-1)])]),_:1},8,["href"])]),_:2},1024)])]),l("div",ft,[l("div",null,[t[20]||(t[20]=l("span",{class:"text-sm font-medium"},"Attending:",-1)),l("span",gt,u(d.attending_count)+" out of "+u(n.group.max_attendees),1)]),l("div",null,[t[21]||(t[21]=l("span",{class:"text-sm font-medium"},"Attendance Rate:",-1)),l("span",pt,u(Math.round(d.attending_count/n.group.max_attendees*100))+"% ",1)])]),d.message?(o(),r("div",vt,[l("h4",ct,[s(e(q),{class:"h-4 w-4"}),t[22]||(t[22]=i(" Message ",-1))]),l("div",_t,[l("p",xt,u(d.message),1)])])):c("",!0),d.song_suggestion?(o(),r("div",ht,[l("h4",yt,[s(e(I),{class:"h-4 w-4"}),t[23]||(t[23]=i(" Song Suggestion ",-1))]),l("div",bt,[l("p",wt,u(d.song_suggestion),1)])])):c("",!0)],2))),128))])):(o(),r("div",ut,[s(e(S),{class:"mx-auto mb-4 h-12 w-12 opacity-50"}),t[16]||(t[16]=l("h3",{class:"mb-2 text-lg font-medium"}," No RSVPs Found ",-1)),t[17]||(t[17]=l("p",null," This group has not submitted any RSVPs yet. ",-1))]))]),_:1})]),_:1})]),l("div",kt,[s(e(_),null,{default:a(()=>[s(e(x),null,{default:a(()=>[s(e(h),{class:"text-lg"},{default:a(()=>[...t[24]||(t[24]=[i("Quick Actions",-1)])]),_:1})]),_:1}),s(e(y),{class:"space-y-3"},{default:a(()=>[s(e(g),{class:"w-full",variant:"outline","as-child":""},{default:a(()=>[s(e(p),{href:`/admin/guests/create?group_id=${n.group.id}`},{default:a(()=>[s(e(G),{class:"mr-2 h-4 w-4"}),t[25]||(t[25]=i(" Add Guest ",-1))]),_:1},8,["href"])]),_:1}),s(e(g),{class:"w-full",variant:"outline","as-child":""},{default:a(()=>[s(e(p),{href:`/admin/guests?group_id=${n.group.id}`},{default:a(()=>[s(e(j),{class:"mr-2 h-4 w-4"}),t[26]||(t[26]=i(" View All Guests ",-1))]),_:1},8,["href"])]),_:1}),v.value&&m.value?(o(),M(e(g),{key:0,class:"w-full",variant:"outline","as-child":""},{default:a(()=>[s(e(p),{href:`/admin/rsvps/${m.value.id}`},{default:a(()=>[s(e(S),{class:"mr-2 h-4 w-4"}),t[27]||(t[27]=i(" View Latest RSVP ",-1))]),_:1},8,["href"])]),_:1})):c("",!0)]),_:1})]),_:1}),s(e(_),null,{default:a(()=>[s(e(x),null,{default:a(()=>[s(e(h),{class:"text-lg"},{default:a(()=>[...t[28]||(t[28]=[i("Group Statistics",-1)])]),_:1})]),_:1}),s(e(y),{class:"space-y-4"},{default:a(()=>[l("div",$t,[t[29]||(t[29]=l("span",{class:"text-sm font-medium"},"Total Guests",-1)),s(e(f),{variant:"outline"},{default:a(()=>[i(u(n.group.guests.length),1)]),_:1})]),l("div",At,[t[30]||(t[30]=l("span",{class:"text-sm font-medium"},"Max Attendees",-1)),s(e(f),{variant:"outline"},{default:a(()=>[i(u(n.group.max_attendees),1)]),_:1})]),v.value&&m.value?(o(),r("div",Gt,[t[31]||(t[31]=l("span",{class:"text-sm font-medium"},"Attending",-1)),s(e(f),{variant:m.value.attending_count>0?"default":"destructive"},{default:a(()=>[i(u(m.value.attending_count),1)]),_:1},8,["variant"])])):c("",!0),v.value&&m.value?(o(),r("div",St,[t[32]||(t[32]=l("span",{class:"text-sm font-medium"},"Not Attending",-1)),s(e(f),{variant:"secondary"},{default:a(()=>[i(u(n.group.max_attendees-m.value.attending_count),1)]),_:1})])):c("",!0),v.value?(o(),r("div",Vt,[t[33]||(t[33]=l("span",{class:"text-sm font-medium"},"Attendance Rate",-1)),s(e(f),{variant:"outline"},{default:a(()=>[i(u(E.value)+"%",1)]),_:1})])):c("",!0),s(e(U)),l("div",Rt,[t[34]||(t[34]=l("span",{class:"text-sm font-medium"},"Total RSVPs",-1)),s(e(f),{variant:"outline"},{default:a(()=>[i(u(n.group.rsvps.length),1)]),_:1})])]),_:1})]),_:1}),s(e(_),null,{default:a(()=>[s(e(x),null,{default:a(()=>[s(e(h),{class:"text-lg"},{default:a(()=>[...t[35]||(t[35]=[i("Email Summary",-1)])]),_:1})]),_:1}),s(e(y),{class:"space-y-3"},{default:a(()=>[l("div",jt,[t[36]||(t[36]=l("span",{class:"text-sm font-medium"},"Guests with Email",-1)),s(e(f),{variant:"outline"},{default:a(()=>[i(u(n.group.guests.filter(d=>d.email).length),1)]),_:1})]),l("div",Pt,[t[37]||(t[37]=l("span",{class:"text-sm font-medium"},"Guests without Email",-1)),s(e(f),{variant:"outline"},{default:a(()=>[i(u(n.group.guests.filter(d=>!d.email).length),1)]),_:1})]),v.value&&m.value&&m.value.email?(o(),r("div",Mt,[t[38]||(t[38]=l("span",{class:"text-sm font-medium"},"RSVP Email:",-1)),l("div",Nt,[s(e(H),{class:"h-4 w-4 text-muted-foreground"}),l("a",{href:`mailto:${m.value.email}`,class:"text-sm text-primary hover:underline"},u(m.value.email),9,Dt)])])):c("",!0)]),_:1})]),_:1})])])])]),_:1},8,["breadcrumbs"])],64))}});export{ne as default};
