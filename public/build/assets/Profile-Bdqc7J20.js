import{d as v,B as j,g as x,w as s,y as E,x as b,u as t,o as _,k as R,c as Q,a as r,b as c,e as f,N as F,s as U,h as L,f as B,l as M,T as W,Q as Y,R as z}from"./app-D066A-7m.js";import{q as y,a as G}from"./index-CX3Q6MXf.js";import{v as J,w as K,x as X}from"./AppSidebarHeader.vue_vue_type_script_setup_true_lang-DsWNhI-I.js";import{a as S,_ as Z}from"./Layout.vue_vue_type_script_setup_true_lang-Bo57EJfg.js";import{_ as q}from"./InputError.vue_vue_type_script_setup_true_lang-BAsfdvI_.js";import{_ as w}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Do9ho3_S.js";import{a as ee,b as te,c as re,d as ae,_ as oe}from"./DialogTitle.vue_vue_type_script_setup_true_lang-apPMfC88.js";import{_ as se}from"./DialogFooter.vue_vue_type_script_setup_true_lang-Dh09StJW.js";import{b as le}from"./useForwardExpose-Bz4O71GA.js";import{a as ie}from"./RovingFocusGroup-DYmt9qDH.js";import{P as de}from"./Primitive-DLc9KuUD.js";import{_ as C}from"./Input.vue_vue_type_script_setup_true_lang-DTgz3oUN.js";import{_ as D}from"./Label.vue_vue_type_script_setup_true_lang-CBNHjdQv.js";import{_ as ne}from"./AppLayout.vue_vue_type_script_setup_true_lang-W4n4FRhJ.js";import"./createLucideIcon-CeQUNXxf.js";import"./utils-TfETDaq2.js";import"./VisuallyHidden-Brp243Oh.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./Separator.vue_vue_type_script_setup_true_lang-CIUyEhkG.js";import"./index-CDHK7KWm.js";import"./index-CNPpYY1b.js";import"./index-DdF4PVGW.js";import"./index-C3cvPsKy.js";var ue=v({__name:"DialogTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const a=e,l=J(),{forwardRef:o,currentElement:$}=le();return l.contentId||=ie(void 0,"reka-dialog-content"),j(()=>{l.triggerElement.value=$.value}),(i,h)=>(_(),x(t(de),b(a,{ref:t(o),type:i.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":t(l).open.value||!1,"aria-controls":t(l).open.value?t(l).contentId:void 0,"data-state":t(l).open.value?"open":"closed",onClick:t(l).onOpenToggle}),{default:s(()=>[E(i.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","onClick"]))}}),me=ue;const ce=v({__name:"DialogClose",props:{asChild:{type:Boolean},as:{}},setup(e){const a=e;return(l,o)=>(_(),x(t(K),b({"data-slot":"dialog-close"},a),{default:s(()=>[E(l.$slots,"default")]),_:3},16))}}),fe=v({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{}},setup(e){const a=e;return(l,o)=>(_(),x(t(me),b({"data-slot":"dialog-trigger"},a),{default:s(()=>[E(l.$slots,"default")]),_:3},16))}}),u=e=>({url:u.url(e),method:"get"});u.definition={methods:["get","head"],url:"/admin/settings/profile"};u.url=e=>u.definition.url+y(e);u.get=e=>({url:u.url(e),method:"get"});u.head=e=>({url:u.url(e),method:"head"});const P=e=>({action:u.url(e),method:"get"});P.get=e=>({action:u.url(e),method:"get"});P.head=e=>({action:u.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});u.form=P;const p=e=>({url:p.url(e),method:"patch"});p.definition={methods:["patch"],url:"/admin/settings/profile"};p.url=e=>p.definition.url+y(e);p.patch=e=>({url:p.url(e),method:"patch"});const I=e=>({action:p.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});I.patch=e=>({action:p.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});p.form=I;const g=e=>({url:g.url(e),method:"delete"});g.definition={methods:["delete"],url:"/admin/settings/profile"};g.url=e=>g.definition.url+y(e);g.delete=e=>({url:g.url(e),method:"delete"});const N=e=>({action:g.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});N.delete=e=>({action:g.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});g.form=N;const V={edit:u,update:p,destroy:g},d=e=>({url:d.url(e),method:"get"});d.definition={methods:["get","head"],url:"/verify-email"};d.url=e=>d.definition.url+y(e);d.get=e=>({url:d.url(e),method:"get"});d.head=e=>({url:d.url(e),method:"head"});const T=e=>({action:d.url(e),method:"get"});T.get=e=>({action:d.url(e),method:"get"});T.head=e=>({action:d.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});d.form=T;const n=(e,a)=>({url:n.url(e,a),method:"get"});n.definition={methods:["get","head"],url:"/verify-email/{id}/{hash}"};n.url=(e,a)=>{Array.isArray(e)&&(e={id:e[0],hash:e[1]}),e=G(e);const l={id:e.id,hash:e.hash};return n.definition.url.replace("{id}",l.id.toString()).replace("{hash}",l.hash.toString()).replace(/\/+$/,"")+y(a)};n.get=(e,a)=>({url:n.url(e,a),method:"get"});n.head=(e,a)=>({url:n.url(e,a),method:"head"});const A=(e,a)=>({action:n.url(e,a),method:"get"});A.get=(e,a)=>({action:n.url(e,a),method:"get"});A.head=(e,a)=>({action:n.url(e,{[a?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...a?.query??a?.mergeQuery??{}}}),method:"get"});n.form=A;const m=e=>({url:m.url(e),method:"post"});m.definition={methods:["post"],url:"/email/verification-notification"};m.url=e=>m.definition.url+y(e);m.post=e=>({url:m.url(e),method:"post"});const H=e=>({action:m.url(e),method:"post"});H.post=e=>({action:m.url(e),method:"post"});m.form=H;Object.assign(d,d),Object.assign(n,n),Object.assign(m,m);const pe={class:"space-y-6 p-6"},ge={class:"space-y-4 rounded-lg border border-red-100 bg-red-50 p-4 dark:border-red-200/10 dark:bg-red-700/10"},_e={class:"grid gap-2"},ye=v({__name:"DeleteUser",setup(e){const a=R(null);return(l,o)=>(_(),Q("div",pe,[r(S,{title:"Delete account",description:"Delete your account and all of its resources"}),c("div",ge,[o[7]||(o[7]=c("div",{class:"relative space-y-0.5 text-red-600 dark:text-red-100"},[c("p",{class:"font-medium"},"Warning"),c("p",{class:"text-sm"}," Please proceed with caution, this cannot be undone. ")],-1)),r(t(oe),null,{default:s(()=>[r(t(fe),{"as-child":""},{default:s(()=>[r(t(w),{variant:"destructive","data-test":"delete-user-button"},{default:s(()=>[...o[1]||(o[1]=[f("Delete account",-1)])]),_:1})]),_:1}),r(t(ee),null,{default:s(()=>[r(t(F),b(t(V).destroy.form(),{"reset-on-success":"",onError:o[0]||(o[0]=()=>a.value?.$el?.focus()),options:{preserveScroll:!0},class:"space-y-6"}),{default:s(({errors:$,processing:i,reset:h,clearErrors:k})=>[r(t(te),{class:"space-y-3"},{default:s(()=>[r(t(re),null,{default:s(()=>[...o[2]||(o[2]=[f("Are you sure you want to delete your account?",-1)])]),_:1}),r(t(ae),null,{default:s(()=>[...o[3]||(o[3]=[f(" Once your account is deleted, all of its resources and data will also be permanently deleted. Please enter your password to confirm you would like to permanently delete your account. ",-1)])]),_:1})]),_:1}),c("div",_e,[r(t(D),{for:"password",class:"sr-only"},{default:s(()=>[...o[4]||(o[4]=[f("Password",-1)])]),_:1}),r(t(C),{id:"password",type:"password",name:"password",ref_key:"passwordInput",ref:a,placeholder:"Password"},null,512),r(q,{message:$.password},null,8,["message"])]),r(t(se),{class:"gap-2"},{default:s(()=>[r(t(ce),{"as-child":""},{default:s(()=>[r(t(w),{variant:"secondary",onClick:()=>{k(),h()}},{default:s(()=>[...o[5]||(o[5]=[f(" Cancel ",-1)])]),_:1},8,["onClick"])]),_:2},1024),r(t(w),{type:"submit",variant:"destructive",disabled:i,"data-test":"confirm-delete-user-button"},{default:s(()=>[...o[6]||(o[6]=[f(" Delete account ",-1)])]),_:1},8,["disabled"])]),_:2},1024)]),_:1},16)]),_:1})]),_:1})])]))}}),he={class:"flex flex-col space-y-6"},ve={class:"grid gap-2"},be={class:"grid gap-2"},$e={key:0},we={class:"-mt-4 text-sm text-muted-foreground"},xe={key:0,class:"mt-2 text-sm font-medium text-green-600"},ke={class:"flex items-center gap-4"},Qe={class:"text-sm text-neutral-600"},Ge=v({__name:"Profile",props:{mustVerifyEmail:{type:Boolean},status:{}},setup(e){const a=[{title:"Profile settings",href:X().url}],o=U().props.auth.user;return($,i)=>(_(),x(ne,{breadcrumbs:a},{default:s(()=>[r(t(L),{title:"Profile settings"}),r(Z,null,{default:s(()=>[c("div",he,[r(S,{title:"Profile information",description:"Update your name and email address"}),r(t(F),b(t(V).update.form(),{class:"space-y-6"}),{default:s(({errors:h,processing:k,recentlySuccessful:O})=>[c("div",ve,[r(t(D),{for:"name"},{default:s(()=>[...i[0]||(i[0]=[f("Name",-1)])]),_:1}),r(t(C),{id:"name",class:"mt-1 block w-full",name:"name","default-value":t(o).name,required:"",autocomplete:"name",placeholder:"Full name"},null,8,["default-value"]),r(q,{class:"mt-2",message:h.name},null,8,["message"])]),c("div",be,[r(t(D),{for:"email"},{default:s(()=>[...i[1]||(i[1]=[f("Email address",-1)])]),_:1}),r(t(C),{id:"email",type:"email",class:"mt-1 block w-full",name:"email","default-value":t(o).email,required:"",autocomplete:"username",placeholder:"Email address"},null,8,["default-value"]),r(q,{class:"mt-2",message:h.email},null,8,["message"])]),e.mustVerifyEmail&&!t(o).email_verified_at?(_(),Q("div",$e,[c("p",we,[i[3]||(i[3]=f(" Your email address is unverified. ",-1)),r(t(M),{href:t(m)(),as:"button",class:"text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500"},{default:s(()=>[...i[2]||(i[2]=[f(" Click here to resend the verification email. ",-1)])]),_:1},8,["href"])]),e.status==="verification-link-sent"?(_(),Q("div",xe," A new verification link has been sent to your email address. ")):B("",!0)])):B("",!0),c("div",ke,[r(t(w),{disabled:k,"data-test":"update-profile-button"},{default:s(()=>[...i[4]||(i[4]=[f("Save",-1)])]),_:1},8,["disabled"]),r(W,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:s(()=>[Y(c("p",Qe," Saved. ",512),[[z,O]])]),_:2},1024)])]),_:1},16)]),r(ye)]),_:1})]),_:1}))}});export{Ge as default};
