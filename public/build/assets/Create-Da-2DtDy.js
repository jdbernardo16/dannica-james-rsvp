import{d as L,k as y,m as T,q as k,g as E,w as f,b as e,D as Y,c as n,o as d,F,r as R,n as S,u as l,t as u,a as g,j as U,f as a,e as b,Q as q,p as z}from"./app-uTeBNO3m.js";import{_ as H}from"./CardContent.vue_vue_type_script_setup_true_lang-C7UbJe0y.js";import{_ as P}from"./Input.vue_vue_type_script_setup_true_lang-D08R7A46.js";import{_ as h}from"./Label.vue_vue_type_script_setup_true_lang-CRrNfD3H.js";import{C as J,M as O,_ as Q,A as X,S as K}from"./Textarea.vue_vue_type_script_setup_true_lang-Ve4FO_S3.js";import{P as Z}from"./PublicLayout-URBZhXyx.js";import{C as V}from"./circle-check-big-33iMUG5b.js";import{S as ee}from"./search-uDNur78_.js";import{C as te}from"./circle-alert-dT9gjyYD.js";import{P as se}from"./plus-CMbI4tQ3.js";import{A as de}from"./arrow-left-DjR7wmsZ.js";import{_ as ne}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-TfETDaq2.js";import"./useForwardExpose-Pf2dAzcd.js";import"./Primitive-D6Zf--NW.js";import"./createLucideIcon-CwYfYG3s.js";const ie={class:"wedding-smooth-scroll wedding-container relative z-10 px-4 py-8 sm:py-10 lg:py-12"},ae={class:"mx-auto max-w-4xl"},le={class:"wedding-animate-slide-up mb-8 sm:mb-10 lg:mb-12"},oe={class:"wedding-progress-container"},ue={class:"wedding-progress-bar"},ge={class:"wedding-progress-steps"},re=["onClick"],me={class:"wedding-progress-dot"},ve={key:1,class:"text-xs sm:text-sm"},ce={class:"wedding-progress-label text-xs sm:text-sm"},we={class:"card-wedding-elegant wedding-animate-scale-in shadow-wedding-xl wedding-hover-lift",style:{"animation-delay":"0.2s"}},pe={key:0,class:"wedding-animate-page-transition space-y-6"},ye={class:"space-y-4"},fe={class:"relative"},be=["disabled"],_e={key:0,class:"font-wedding-medium mt-1 text-sm text-red-600"},he={key:0,class:"wedding-animate-fade-in flex items-center justify-center py-4"},xe={key:1,class:"rounded-wedding-lg border-wedding-gold bg-wedding-ivory-bg shadow-wedding-soft wedding-animate-bounce-in wedding-success-animation border-2 p-4"},ke={class:"flex items-start"},Se={class:"font-wedding-body mt-1 text-sm text-green-700"},Pe={key:0,class:"mt-2"},Ve={class:"font-wedding-body ml-2 list-inside list-disc text-sm text-green-700"},Ce={key:1,class:"rounded-wedding mt-2 border border-yellow-300 bg-yellow-100 p-2"},Ae={class:"font-wedding-medium text-sm text-yellow-800"},Ee={key:2,class:"rounded-wedding-lg border-2 border-red-200 bg-red-50 p-4"},Fe={class:"flex items-start"},Re={key:1,class:"wedding-animate-page-transition space-y-6"},We={key:0,class:"rounded-wedding-lg border-wedding-blush bg-wedding-blush-light-bg shadow-wedding-soft mb-6 border-2 p-4"},Me={class:"font-wedding-semibold wedding-navy"},Ne={class:"wedding-navy font-wedding-body text-sm"},Ge={class:"space-y-4"},$e={class:"mt-4 flex items-center justify-center space-x-4 sm:space-x-6"},je=["disabled"],De={class:"font-wedding-bold wedding-navy wedding-animate-scale-in w-16 text-center text-2xl sm:w-20 sm:text-3xl"},Be=["disabled"],Ie={class:"text-wedding-base sm:text-wedding-lg font-wedding-body wedding-navy mt-4 text-center"},Le={key:2,class:"wedding-animate-page-transition space-y-6"},Te={class:"space-y-4"},Ye={class:"wedding-navy font-wedding-body mt-1 text-sm"},Ue={key:3,class:"wedding-animate-page-transition space-y-6"},qe={class:"space-y-4"},ze={class:"wedding-navy font-wedding-body mt-1 text-sm"},He={key:4,class:"wedding-animate-page-transition space-y-6"},Je={class:"space-y-4"},Oe={key:0,class:"font-wedding-medium mt-1 text-sm text-red-600"},Qe={key:5,class:"wedding-animate-page-transition space-y-6"},Xe={class:"rounded-wedding-lg bg-wedding-ivory-bg border-wedding-blush-light space-y-6 border-2 p-6"},Ke={class:"wedding-navy font-wedding-body text-wedding-lg mt-2"},Ze={key:0,class:"wedding-navy font-wedding-body mt-1 text-sm"},et={class:"wedding-navy font-wedding-body text-wedding-lg mt-2"},tt={key:0,class:"wedding-divider"},st={key:1},dt={class:"wedding-navy font-wedding-body text-wedding-lg mt-2 whitespace-pre-wrap"},nt={key:2,class:"wedding-divider"},it={key:3},at={class:"wedding-navy font-wedding-body text-wedding-lg mt-2"},lt={class:"wedding-navy font-wedding-body text-wedding-lg mt-2"},ot={class:"rounded-wedding-lg border-wedding-gold bg-wedding-ivory-bg shadow-wedding-gold border-2 p-4"},ut={class:"flex items-start"},gt={class:"mt-6 flex flex-col justify-between gap-4 sm:mt-8 sm:flex-row sm:gap-0"},rt=["disabled"],mt=["disabled"],vt=["disabled"],ct={key:0,class:"wedding-loading border-wedding-navy mr-2 h-4 w-4 rounded-full border-b-2"},wt=L({__name:"Create",setup(pt){const C=[{title:"Find Invitation"},{title:"Attendance"},{title:"Message"},{title:"Song"},{title:"Email"},{title:"Review"}],o=y(0),_=y(!1),p=y(!1),c=y(!1),i=y(null),m=y({}),s=y({guest_name:"",attending_count:0,message:"",song_suggestion:"",email:""});T(()=>s.value.guest_name,r=>{r===""&&(c.value=!1,i.value=null,m.value.guest_name="")});const x=k(()=>{switch(o.value){case 0:return c.value&&i.value&&!i.value.group?.has_rsvp;case 1:return!0;case 2:return!0;case 3:return!0;case 4:return s.value.email&&N(s.value.email);case 5:return!0;default:return!1}}),A=k(()=>x.value&&c.value&&i.value),W=k(()=>(o.value+1)/C.length*100),M=r=>{r<=o.value&&(o.value=r)},N=r=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r),G=async()=>{if(!s.value.guest_name.trim()){m.value.guest_name="Please enter your full name";return}_.value=!0,m.value.guest_name="";try{const r=await q.post("/rsvp/check-guest",{name:s.value.guest_name});r.data.found?(c.value=!0,i.value=r.data,r.data.group?.has_rsvp&&(m.value.guest_name="This group has already submitted an RSVP. Please contact the couple if you need to make changes.")):(c.value=!1,i.value=null,m.value.guest_name=r.data.message||"Guest not found")}catch(r){console.error("Error checking guest:",r),m.value.guest_name="An error occurred while checking your name. Please try again.",c.value=!1,i.value=null}finally{_.value=!1}},$=()=>{const r=i.value?.group?.max_attendees||0;s.value.attending_count<r&&s.value.attending_count++},j=()=>{s.value.attending_count>0&&s.value.attending_count--},D=()=>{x.value&&o.value++},B=()=>{o.value>0&&o.value--},I=()=>{if(!A.value)return;p.value=!0,m.value={};const r={group_name:i.value?.group?.name,guest_names:i.value?.group_guests||[s.value.guest_name],email:s.value.email,attending_count:s.value.attending_count,message:s.value.message,song_suggestion:s.value.song_suggestion};z.post("/rsvp/store",r,{onSuccess:()=>{},onError:t=>{typeof t=="object"&&t!==null&&(m.value=Object.fromEntries(Object.entries(t).map(([v,w])=>[v,String(w)]))),o.value=0},onFinish:()=>{p.value=!1}})};return(r,t)=>(d(),E(Z,{title:"RSVP - James & Dannica's Wedding",description:"Please fill out this form to let us know if you can attend our special day",showHeader:!1,showFooter:!1},{default:f(()=>[e("div",ie,[e("div",ae,[t[31]||(t[31]=e("div",{class:"wedding-header wedding-animate-bounce-in mb-8 text-center sm:mb-10 lg:mb-12"},[e("h3",{class:"wedding-title text-wedding-4xl sm:text-wedding-5xl"}," James & Dannica's Wedding "),e("div",{class:"wedding-divider wedding-animate-gold-shimmer mt-4 mb-3 sm:mt-6 sm:mb-4"}),e("p",{class:"wedding-subtitle font-wedding-accent text-wedding-lg sm:text-wedding-xl wedding-animate-fade-in-up",style:{"animation-delay":"0.3s"}}," We're so excited to celebrate with you! "),e("p",{class:"text-wedding-base sm:text-wedding-lg font-wedding-body wedding-navy wedding-animate-fade-in-up mt-2",style:{"animation-delay":"0.5s"}}," Please fill out this form to let us know if you can attend our special day. ")],-1)),e("div",le,[e("div",oe,[e("div",ue,[e("div",{class:"wedding-progress-fill",style:Y({width:W.value+"%"})},null,4)]),e("div",ge,[(d(),n(F,null,R(C,(v,w)=>e("div",{key:w,class:S(["wedding-progress-step",{active:o.value===w,completed:o.value>w}]),onClick:yt=>M(w)},[e("div",me,[o.value>w?(d(),E(l(V),{key:0,class:"h-3 w-3 sm:h-4 sm:w-4"})):(d(),n("span",ve,u(w+1),1))]),e("span",ce,u(v.title),1)],10,re)),64))])])]),e("div",we,[g(l(H),{class:"p-6 sm:p-8"},{default:f(()=>[e("form",{onSubmit:U(I,["prevent"])},[o.value===0?(d(),n("div",pe,[t[10]||(t[10]=e("div",null,[e("h3",{class:"wedding-title text-wedding-3xl font-wedding-bold wedding-navy"}," Find Your Invitation "),e("div",{class:"wedding-divider-blush mt-4"}),e("p",{class:"text-wedding-lg font-wedding-body wedding-navy mt-4"}," Please enter your full name as it appears on your invitation. ")],-1)),e("div",ye,[e("div",null,[g(l(h),{for:"guest_name",class:"font-wedding-semibold wedding-navy wedding-animate-fade-in-left"},{default:f(()=>[...t[4]||(t[4]=[b(" Full Name ",-1)])]),_:1}),e("div",fe,[g(l(P),{id:"guest_name",modelValue:s.value.guest_name,"onUpdate:modelValue":t[0]||(t[0]=v=>s.value.guest_name=v),type:"text",placeholder:"Enter your full name",disabled:_.value,required:"",class:S(["input-wedding wedding-transition-slow mt-2 pr-12",{error:m.value.guest_name,success:c.value&&!m.value.guest_name}])},null,8,["modelValue","disabled","class"]),e("button",{type:"button",class:"text-wedding-navy hover:text-wedding-gold absolute top-1/2 right-2 -translate-y-1/2 transform p-2 transition-colors duration-200",onClick:G,disabled:_.value||!s.value.guest_name.trim(),title:"Find My Invitation"},[g(l(ee),{class:"h-4 w-4"})],8,be)]),m.value.guest_name?(d(),n("p",_e,u(m.value.guest_name),1)):a("",!0)]),_.value?(d(),n("div",he,[...t[5]||(t[5]=[e("div",{class:"wedding-loading border-wedding-gold h-8 w-8 rounded-full border-b-2"},null,-1),e("span",{class:"wedding-navy font-wedding-medium wedding-animate-pulse ml-2"},"Searching for your invitation...",-1)])])):a("",!0),c.value&&i.value?(d(),n("div",xe,[e("div",ke,[g(l(V),{class:"mt-0.5 mr-2 h-5 w-5 text-green-600"}),e("div",null,[t[8]||(t[8]=e("h3",{class:"font-wedding-semibold text-green-900"}," Invitation Found! ",-1)),e("p",Se," Group: "+u(i.value.group?.name),1),i.value.group_guests&&i.value.group_guests.length>0?(d(),n("div",Pe,[t[6]||(t[6]=e("p",{class:"font-wedding-medium text-sm text-green-700"}," Guests in your group: ",-1)),e("ul",Ve,[(d(!0),n(F,null,R(i.value.group_guests,v=>(d(),n("li",{key:v},u(v),1))),128))])])):a("",!0),i.value.group?.has_rsvp?(d(),n("div",Ce,[e("p",Ae,[g(l(te),{class:"mr-1 inline h-4 w-4"}),t[7]||(t[7]=b(" This group has already submitted an RSVP. Please contact the couple if you need to make changes. ",-1))])])):a("",!0)])])])):a("",!0),!c.value&&s.value.guest_name&&!_.value&&m.value.guest_name?(d(),n("div",Ee,[e("div",Fe,[g(l(J),{class:"mt-0.5 mr-2 h-5 w-5 text-red-600"}),t[9]||(t[9]=e("div",null,[e("h3",{class:"font-wedding-semibold text-red-900"}," Invitation Not Found "),e("p",{class:"font-wedding-body mt-1 text-sm text-red-700"}," We couldn't find your invitation. Please check the spelling of your name or contact the couple for assistance. ")],-1))])])):a("",!0)])])):a("",!0),o.value===1?(d(),n("div",Re,[t[12]||(t[12]=e("div",null,[e("h3",{class:"wedding-title text-wedding-3xl font-wedding-bold wedding-navy"}," Will You Be Attending? "),e("div",{class:"wedding-divider-blush mt-4"}),e("p",{class:"text-wedding-lg font-wedding-body wedding-navy mt-4"}," Let us know how many people from your group will be attending the wedding. ")],-1)),i.value?(d(),n("div",We,[e("p",Me," Group: "+u(i.value.group?.name),1),e("p",Ne," Maximum attendees: "+u(i.value.group?.max_attendees),1)])):a("",!0),e("div",Ge,[e("div",null,[g(l(h),{for:"attending_count",class:"font-wedding-semibold wedding-navy"},{default:f(()=>[...t[11]||(t[11]=[b(" Number of Attendees ",-1)])]),_:1}),e("div",$e,[e("button",{type:"button",class:"btn-wedding-secondary wedding-hover-scale wedding-touch-target-lg",onClick:j,disabled:s.value.attending_count<=0},[g(l(O),{class:"h-4 w-4 sm:h-5 sm:w-5"})],8,je),e("div",De,u(s.value.attending_count),1),e("button",{type:"button",class:"btn-wedding-secondary wedding-hover-scale wedding-touch-target-lg",onClick:$,disabled:s.value.attending_count>=(i.value?.group?.max_attendees||0)},[g(l(se),{class:"h-4 w-4 sm:h-5 sm:w-5"})],8,Be)]),e("p",Ie,u(s.value.attending_count===0?"We're sorry you can't make it. We'll miss you!":`Great! We're excited to celebrate with ${s.value.attending_count} ${s.value.attending_count===1?"person":"people"}.`),1)])])])):a("",!0),o.value===2?(d(),n("div",Le,[t[14]||(t[14]=e("div",null,[e("h3",{class:"wedding-title text-wedding-3xl font-wedding-bold wedding-navy"}," Message to the Couple "),e("div",{class:"wedding-divider-blush mt-4"}),e("p",{class:"text-wedding-lg font-wedding-body wedding-navy mt-4"}," Share a special message or well wishes with us (optional). ")],-1)),e("div",Te,[e("div",null,[g(l(h),{for:"message",class:"font-wedding-semibold wedding-navy"},{default:f(()=>[...t[13]||(t[13]=[b(" Your Message ",-1)])]),_:1}),g(l(Q),{id:"message",modelValue:s.value.message,"onUpdate:modelValue":t[1]||(t[1]=v=>s.value.message=v),placeholder:"Write your message here...",rows:"5",maxlength:"1000",class:"input-wedding wedding-transition-slow textarea-wedding mt-2"},null,8,["modelValue"]),e("p",Ye,u(s.value.message?.length||0)+"/1000 characters ",1)])])])):a("",!0),o.value===3?(d(),n("div",Ue,[t[16]||(t[16]=e("div",null,[e("h3",{class:"wedding-title text-wedding-3xl font-wedding-bold wedding-navy"}," Song Suggestion "),e("div",{class:"wedding-divider-blush mt-4"}),e("p",{class:"text-wedding-lg font-wedding-body wedding-navy mt-4"}," Help us create the perfect playlist! Suggest a song that would make you want to dance (optional). ")],-1)),e("div",qe,[e("div",null,[g(l(h),{for:"song_suggestion",class:"font-wedding-semibold wedding-navy"},{default:f(()=>[...t[15]||(t[15]=[b(" Song Title & Artist ",-1)])]),_:1}),g(l(P),{id:"song_suggestion",modelValue:s.value.song_suggestion,"onUpdate:modelValue":t[2]||(t[2]=v=>s.value.song_suggestion=v),type:"text",placeholder:"e.g., 'Perfect - Ed Sheeran'",maxlength:"255",class:"input-wedding wedding-transition-slow mt-2"},null,8,["modelValue"]),e("p",ze,u(s.value.song_suggestion?.length||0)+"/255 characters ",1)])])])):a("",!0),o.value===4?(d(),n("div",He,[t[19]||(t[19]=e("div",null,[e("h3",{class:"wedding-title text-wedding-3xl font-wedding-bold wedding-navy"}," Email Address "),e("div",{class:"wedding-divider-blush mt-4"}),e("p",{class:"text-wedding-lg font-wedding-body wedding-navy mt-4"}," Provide your email address for confirmation and updates about the wedding. ")],-1)),e("div",Je,[e("div",null,[g(l(h),{for:"email",class:"font-wedding-semibold wedding-navy"},{default:f(()=>[...t[17]||(t[17]=[b(" Email Address ",-1)])]),_:1}),g(l(P),{id:"email",modelValue:s.value.email,"onUpdate:modelValue":t[3]||(t[3]=v=>s.value.email=v),type:"email",placeholder:"your.email@example.com",required:"",class:S(["input-wedding wedding-transition-slow mt-2",{error:m.value.email,success:s.value.email&&!m.value.email}])},null,8,["modelValue","class"]),m.value.email?(d(),n("p",Oe,u(m.value.email),1)):a("",!0),t[18]||(t[18]=e("p",{class:"wedding-navy font-wedding-body mt-1 text-sm"}," We'll use this to send you a confirmation and any important updates. ",-1))])])])):a("",!0),o.value===5?(d(),n("div",Qe,[t[28]||(t[28]=e("div",null,[e("h3",{class:"wedding-title text-wedding-3xl font-wedding-bold wedding-navy"}," Review Your RSVP "),e("div",{class:"wedding-divider-blush mt-4"}),e("p",{class:"text-wedding-lg font-wedding-body wedding-navy mt-4"}," Please review your information before submitting. ")],-1)),e("div",Xe,[e("div",null,[t[20]||(t[20]=e("h3",{class:"font-wedding-semibold wedding-navy text-wedding-xl"}," Guest Information ",-1)),e("p",Ke,u(s.value.guest_name),1),i.value?(d(),n("p",Ze," Group: "+u(i.value.group?.name),1)):a("",!0)]),t[25]||(t[25]=e("div",{class:"wedding-divider"},null,-1)),e("div",null,[t[21]||(t[21]=e("h3",{class:"font-wedding-semibold wedding-navy text-wedding-xl"}," Attendance ",-1)),e("p",et,u(s.value.attending_count)+" "+u(s.value.attending_count===1?"person":"people")+" attending ",1)]),s.value.message?(d(),n("div",tt)):a("",!0),s.value.message?(d(),n("div",st,[t[22]||(t[22]=e("h3",{class:"font-wedding-semibold wedding-navy text-wedding-xl"}," Message ",-1)),e("p",dt,u(s.value.message),1)])):a("",!0),s.value.song_suggestion?(d(),n("div",nt)):a("",!0),s.value.song_suggestion?(d(),n("div",it,[t[23]||(t[23]=e("h3",{class:"font-wedding-semibold wedding-navy text-wedding-xl"}," Song Suggestion ",-1)),e("p",at,u(s.value.song_suggestion),1)])):a("",!0),t[26]||(t[26]=e("div",{class:"wedding-divider"},null,-1)),e("div",null,[t[24]||(t[24]=e("h3",{class:"font-wedding-semibold wedding-navy text-wedding-xl"}," Email ",-1)),e("p",lt,u(s.value.email),1)])]),e("div",ot,[e("div",ut,[g(l(V),{class:"mt-0.5 mr-2 h-5 w-5 text-green-600"}),t[27]||(t[27]=e("div",null,[e("h3",{class:"font-wedding-semibold text-green-900"}," Ready to Submit "),e("p",{class:"font-wedding-body mt-1 text-sm text-green-700"}," Click the submit button below to complete your RSVP. You'll receive a confirmation email shortly. ")],-1))])])])):a("",!0),e("div",gt,[e("button",{type:"button",class:"btn-wedding-secondary wedding-hover-lift wedding-touch-target-lg order-2 sm:order-1",onClick:B,disabled:o.value===0||p.value},[g(l(de),{class:"mr-2 h-4 w-4"}),t[29]||(t[29]=e("span",{class:"text-sm sm:text-base"},"Previous",-1))],8,rt),o.value<5?(d(),n("button",{key:0,type:"button",class:"btn-wedding-primary wedding-hover-lift wedding-touch-target-lg order-1 sm:order-2",onClick:D,disabled:!x.value||p.value},[t[30]||(t[30]=e("span",{class:"text-sm sm:text-base"},"Next",-1)),g(l(X),{class:"ml-2 h-4 w-4"})],8,mt)):a("",!0),o.value===5?(d(),n("button",{key:1,type:"submit",class:"btn-wedding-accent wedding-hover-lift wedding-touch-target-lg order-1 sm:order-2",disabled:p.value||!A.value},[p.value?(d(),n("div",ct)):a("",!0),b(" "+u(p.value?"Submitting...":"Submit RSVP")+" ",1),g(l(K),{class:"ml-2 h-4 w-4"})],8,vt)):a("",!0)])],32)]),_:1})])])])]),_:1}))}}),Nt=ne(wt,[["__scopeId","data-v-a4a8bbc3"]]);export{Nt as default};
