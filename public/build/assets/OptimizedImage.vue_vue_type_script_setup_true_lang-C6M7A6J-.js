import{d as h,q as u,k as i,c,b as n,n as o,o as d}from"./app-CmTrqmps.js";function m(t){const e=t.startsWith("/")?t.slice(1):t;if(!e.startsWith("images/"))return t;const a=e.lastIndexOf("/"),s=a>=0?e.slice(a+1):e;return`/images/optimized/${s.includes(".")?s.slice(0,s.lastIndexOf(".")):s}.webp`}const g={key:0},f=["srcset"],w=["src","alt","loading","width","height"],x=["src","alt","loading","width","height"],E=h({__name:"OptimizedImage",props:{src:{},alt:{default:""},class:{default:""},loading:{default:"lazy"},width:{},height:{}},setup(t){const e=t,a=u(()=>m(e.src)),s=i(!1),l=i(e.src),r=()=>{s.value=!0,l.value=e.src};return(k,v)=>s.value?(d(),c("img",{key:1,src:l.value,alt:t.alt,class:o(t.class),loading:t.loading,width:t.width,height:t.height},null,10,x)):(d(),c("picture",g,[n("source",{srcset:a.value,type:"image/webp"},null,8,f),n("img",{src:l.value,alt:t.alt,class:o(t.class),loading:t.loading,width:t.width,height:t.height,onError:r},null,42,w)]))}});export{E as _};
