import{d as L,k as y,m as T,q as k,g as E,w as f,b as e,D as Y,c as n,o as d,F,r as R,n as S,u as o,t as u,a as g,j as U,f as a,e as _,M as q,p as z}from"./app-CmTrqmps.js";import{_ as H}from"./CardContent.vue_vue_type_script_setup_true_lang-CWAvcYt0.js";import{_ as P}from"./Input.vue_vue_type_script_setup_true_lang-DYtuGAkU.js";import{_ as h}from"./Label.vue_vue_type_script_setup_true_lang-EZ4kdtGv.js";import{C as O,M as J,_ as X,A as K,S as Q}from"./Textarea.vue_vue_type_script_setup_true_lang-B5pDivlb.js";import{P as Z}from"./PublicLayout-DWIBoprH.js";import{C as V}from"./circle-check-big-CQdg7qVD.js";import{C as ee}from"./circle-alert-CgLJjjM0.js";import{P as te}from"./plus-P6RGEnLN.js";import{A as se}from"./arrow-left-C5moARK0.js";import{_ as de}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-TfETDaq2.js";import"./useForwardExpose-tR5yqFES.js";import"./Primitive-sfuLFN_S.js";import"./createLucideIcon-DHLv5KjZ.js";const ne={class:"wedding-smooth-scroll wedding-container relative z-10 px-4 py-8 sm:py-10 lg:py-12"},ie={class:"mx-auto max-w-4xl"},ae={class:"wedding-animate-slide-up mb-8 sm:mb-10 lg:mb-12"},le={class:"wedding-progress-container"},oe={class:"wedding-progress-bar"},ue={class:"wedding-progress-steps"},ge=["onClick"],re={class:"wedding-progress-dot"},me={key:1,class:"text-xs sm:text-sm"},ve={class:"wedding-progress-label text-xs sm:text-sm"},we={class:"card-wedding-elegant wedding-animate-scale-in shadow-wedding-xl wedding-hover-lift",style:{"animation-delay":"0.2s"}},ce={key:0,class:"wedding-animate-page-transition space-y-6"},pe={class:"space-y-4"},ye={key:0,class:"font-wedding-medium mt-1 text-sm text-red-600"},fe={key:0,class:"wedding-animate-fade-in flex items-center justify-center py-4"},_e={key:1,class:"rounded-wedding-lg border-wedding-gold bg-wedding-ivory-bg shadow-wedding-soft wedding-animate-bounce-in wedding-success-animation border-2 p-4"},be={class:"flex items-start"},he={class:"font-wedding-body mt-1 text-sm text-green-700"},xe={key:0,class:"mt-2"},ke={class:"font-wedding-body ml-2 list-inside list-disc text-sm text-green-700"},Se={key:1,class:"rounded-wedding mt-2 border border-yellow-300 bg-yellow-100 p-2"},Pe={class:"font-wedding-medium text-sm text-yellow-800"},Ve={key:2,class:"rounded-wedding-lg border-2 border-red-200 bg-red-50 p-4"},Ce={class:"flex items-start"},Ae={key:1,class:"wedding-animate-page-transition space-y-6"},Ee={key:0,class:"rounded-wedding-lg border-wedding-blush bg-wedding-blush-light-bg shadow-wedding-soft mb-6 border-2 p-4"},Fe={class:"font-wedding-semibold wedding-navy"},Re={class:"wedding-navy font-wedding-body text-sm"},We={class:"space-y-4"},Me={class:"mt-4 flex items-center justify-center space-x-4 sm:space-x-6"},Ne=["disabled"],Ge={class:"font-wedding-bold wedding-navy wedding-animate-scale-in w-16 text-center text-2xl sm:w-20 sm:text-3xl"},$e=["disabled"],je={class:"text-wedding-base sm:text-wedding-lg font-wedding-body wedding-navy mt-4 text-center"},Be={key:2,class:"wedding-animate-page-transition space-y-6"},De={class:"space-y-4"},Ie={class:"wedding-navy font-wedding-body mt-1 text-sm"},Le={key:3,class:"wedding-animate-page-transition space-y-6"},Te={class:"space-y-4"},Ye={class:"wedding-navy font-wedding-body mt-1 text-sm"},Ue={key:4,class:"wedding-animate-page-transition space-y-6"},qe={class:"space-y-4"},ze={key:0,class:"font-wedding-medium mt-1 text-sm text-red-600"},He={key:5,class:"wedding-animate-page-transition space-y-6"},Oe={class:"rounded-wedding-lg bg-wedding-ivory-bg border-wedding-blush-light space-y-6 border-2 p-6"},Je={class:"wedding-navy font-wedding-body text-wedding-lg mt-2"},Xe={key:0,class:"wedding-navy font-wedding-body mt-1 text-sm"},Ke={class:"wedding-navy font-wedding-body text-wedding-lg mt-2"},Qe={key:0,class:"wedding-divider"},Ze={key:1},et={class:"wedding-navy font-wedding-body text-wedding-lg mt-2 whitespace-pre-wrap"},tt={key:2,class:"wedding-divider"},st={key:3},dt={class:"wedding-navy font-wedding-body text-wedding-lg mt-2"},nt={class:"wedding-navy font-wedding-body text-wedding-lg mt-2"},it={class:"rounded-wedding-lg border-wedding-gold bg-wedding-ivory-bg shadow-wedding-gold border-2 p-4"},at={class:"flex items-start"},lt={class:"mt-6 flex flex-col justify-between gap-4 sm:mt-8 sm:flex-row sm:gap-0"},ot=["disabled"],ut=["disabled"],gt=["disabled"],rt={key:0,class:"wedding-loading border-wedding-navy mr-2 h-4 w-4 rounded-full border-b-2"},mt=L({__name:"create-v1",setup(vt){const C=[{title:"Find Invitation"},{title:"Attendance"},{title:"Message"},{title:"Song"},{title:"Email"},{title:"Review"}],l=y(0),b=y(!1),p=y(!1),w=y(!1),i=y(null),r=y({}),s=y({guest_name:"",attending_count:0,message:"",song_suggestion:"",email:""});T(()=>s.value.guest_name,()=>{s.value.guest_name===""&&(w.value=!1,i.value=null,r.value.guest_name="")});const x=k(()=>{switch(l.value){case 0:return w.value&&i.value&&!i.value.group?.has_rsvp;case 1:return!0;case 2:return!0;case 3:return!0;case 4:return s.value.email&&N(s.value.email);case 5:return!0;default:return!1}}),A=k(()=>x.value&&w.value&&i.value),W=k(()=>(l.value+1)/C.length*100),M=m=>{m<=l.value&&(l.value=m)},N=m=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m),G=async()=>{if(!s.value.guest_name.trim()){r.value.guest_name="Please enter your full name";return}b.value=!0,r.value.guest_name="";try{const m=await q.post("/rsvp/check-guest",{name:s.value.guest_name});m.data.found?(w.value=!0,i.value=m.data,m.data.group?.has_rsvp&&(r.value.guest_name="This group has already submitted an RSVP. Please contact the couple if you need to make changes.")):(w.value=!1,i.value=null,r.value.guest_name=m.data.message||"Guest not found")}catch(m){console.error("Error checking guest:",m),r.value.guest_name="An error occurred while checking your name. Please try again.",w.value=!1,i.value=null}finally{b.value=!1}},$=()=>{const m=i.value?.group?.max_attendees||0;s.value.attending_count<m&&s.value.attending_count++},j=()=>{s.value.attending_count>0&&s.value.attending_count--},B=()=>{x.value&&l.value++},D=()=>{l.value>0&&l.value--},I=()=>{if(!A.value)return;p.value=!0,r.value={};const m={group_name:i.value?.group?.name,guest_names:i.value?.group_guests||[s.value.guest_name],email:s.value.email,attending_count:s.value.attending_count,message:s.value.message,song_suggestion:s.value.song_suggestion};z.post("/rsvp/store",m,{onSuccess:()=>{},onError:t=>{typeof t=="object"&&t!==null&&(r.value=Object.fromEntries(Object.entries(t).map(([v,c])=>[v,String(c)]))),l.value=0},onFinish:()=>{p.value=!1}})};return(m,t)=>(d(),E(Z,{title:"RSVP - Wedding Invitation",description:"Please fill out this form to let us know if you can attend our special day",showHeader:!1,showFooter:!1},{default:f(()=>[e("div",ne,[e("div",ie,[t[31]||(t[31]=e("div",{class:"wedding-header wedding-animate-bounce-in mb-8 text-center sm:mb-10 lg:mb-12"},[e("h3",{class:"wedding-title text-wedding-4xl sm:text-wedding-5xl"}," James & Dannica's Wedding "),e("div",{class:"wedding-divider wedding-animate-gold-shimmer mt-4 mb-3 sm:mt-6 sm:mb-4"}),e("p",{class:"wedding-subtitle font-wedding-accent text-wedding-lg sm:text-wedding-xl wedding-animate-fade-in-up",style:{"animation-delay":"0.3s"}}," We're so excited to celebrate with you! "),e("p",{class:"text-wedding-base sm:text-wedding-lg font-wedding-body wedding-navy wedding-animate-fade-in-up mt-2",style:{"animation-delay":"0.5s"}}," Please fill out this form to let us know if you can attend our special day. ")],-1)),e("div",ae,[e("div",le,[e("div",oe,[e("div",{class:"wedding-progress-fill",style:Y({width:W.value+"%"})},null,4)]),e("div",ue,[(d(),n(F,null,R(C,(v,c)=>e("div",{key:c,class:S(["wedding-progress-step",{active:l.value===c,completed:l.value>c}]),onClick:wt=>M(c)},[e("div",re,[l.value>c?(d(),E(o(V),{key:0,class:"h-3 w-3 sm:h-4 sm:w-4"})):(d(),n("span",me,u(c+1),1))]),e("span",ve,u(v.title),1)],10,ge)),64))])])]),e("div",we,[g(o(H),{class:"p-6 sm:p-8"},{default:f(()=>[e("form",{onSubmit:U(I,["prevent"])},[l.value===0?(d(),n("div",ce,[t[10]||(t[10]=e("div",null,[e("h3",{class:"wedding-title text-wedding-3xl font-wedding-bold wedding-navy"}," Find Your Invitation "),e("div",{class:"wedding-divider-blush mt-4"}),e("p",{class:"text-wedding-lg font-wedding-body wedding-navy mt-4"}," Please enter your full name as it appears on your invitation. ")],-1)),e("div",pe,[e("div",null,[g(o(h),{for:"guest_name",class:"font-wedding-semibold wedding-navy wedding-animate-fade-in-left"},{default:f(()=>[...t[4]||(t[4]=[_(" Full Name ",-1)])]),_:1}),g(o(P),{id:"guest_name",modelValue:s.value.guest_name,"onUpdate:modelValue":t[0]||(t[0]=v=>s.value.guest_name=v),type:"text",placeholder:"Enter your full name",disabled:b.value,onBlur:G,required:"",class:S(["input-wedding wedding-transition-slow mt-2",{error:r.value.guest_name,success:w.value&&!r.value.guest_name}])},null,8,["modelValue","disabled","class"]),r.value.guest_name?(d(),n("p",ye,u(r.value.guest_name),1)):a("",!0)]),b.value?(d(),n("div",fe,[...t[5]||(t[5]=[e("div",{class:"wedding-loading border-wedding-gold h-8 w-8 rounded-full border-b-2"},null,-1),e("span",{class:"wedding-navy font-wedding-medium wedding-animate-pulse ml-2"},"Searching for your invitation...",-1)])])):a("",!0),w.value&&i.value?(d(),n("div",_e,[e("div",be,[g(o(V),{class:"mt-0.5 mr-2 h-5 w-5 text-green-600"}),e("div",null,[t[8]||(t[8]=e("h3",{class:"font-wedding-semibold text-green-900"}," Invitation Found! ",-1)),e("p",he," Group: "+u(i.value.group?.name),1),i.value.group_guests&&i.value.group_guests.length>0?(d(),n("div",xe,[t[6]||(t[6]=e("p",{class:"font-wedding-medium text-sm text-green-700"}," Guests in your group: ",-1)),e("ul",ke,[(d(!0),n(F,null,R(i.value.group_guests,v=>(d(),n("li",{key:v},u(v),1))),128))])])):a("",!0),i.value.group?.has_rsvp?(d(),n("div",Se,[e("p",Pe,[g(o(ee),{class:"mr-1 inline h-4 w-4"}),t[7]||(t[7]=_(" This group has already submitted an RSVP. Please contact the couple if you need to make changes. ",-1))])])):a("",!0)])])])):a("",!0),!w.value&&s.value.guest_name&&!b.value?(d(),n("div",Ve,[e("div",Ce,[g(o(O),{class:"mt-0.5 mr-2 h-5 w-5 text-red-600"}),t[9]||(t[9]=e("div",null,[e("h3",{class:"font-wedding-semibold text-red-900"}," Invitation Not Found "),e("p",{class:"font-wedding-body mt-1 text-sm text-red-700"}," We couldn't find your invitation. Please check the spelling of your name or contact the couple for assistance. ")],-1))])])):a("",!0)])])):a("",!0),l.value===1?(d(),n("div",Ae,[t[12]||(t[12]=e("div",null,[e("h3",{class:"wedding-title text-wedding-3xl font-wedding-bold wedding-navy"}," Will You Be Attending? "),e("div",{class:"wedding-divider-blush mt-4"}),e("p",{class:"text-wedding-lg font-wedding-body wedding-navy mt-4"}," Let us know how many people from your group will be attending the wedding. ")],-1)),i.value?(d(),n("div",Ee,[e("p",Fe," Group: "+u(i.value.group?.name),1),e("p",Re," Maximum attendees: "+u(i.value.group?.max_attendees),1)])):a("",!0),e("div",We,[e("div",null,[g(o(h),{for:"attending_count",class:"font-wedding-semibold wedding-navy"},{default:f(()=>[...t[11]||(t[11]=[_(" Number of Attendees ",-1)])]),_:1}),e("div",Me,[e("button",{type:"button",class:"btn-wedding-secondary wedding-hover-scale wedding-touch-target-lg",onClick:j,disabled:s.value.attending_count<=0},[g(o(J),{class:"h-4 w-4 sm:h-5 sm:w-5"})],8,Ne),e("div",Ge,u(s.value.attending_count),1),e("button",{type:"button",class:"btn-wedding-secondary wedding-hover-scale wedding-touch-target-lg",onClick:$,disabled:s.value.attending_count>=(i.value?.group?.max_attendees||0)},[g(o(te),{class:"h-4 w-4 sm:h-5 sm:w-5"})],8,$e)]),e("p",je,u(s.value.attending_count===0?"We're sorry you can't make it. We'll miss you!":`Great! We're excited to celebrate with ${s.value.attending_count} ${s.value.attending_count===1?"person":"people"}.`),1)])])])):a("",!0),l.value===2?(d(),n("div",Be,[t[14]||(t[14]=e("div",null,[e("h3",{class:"wedding-title text-wedding-3xl font-wedding-bold wedding-navy"}," Message to the Couple "),e("div",{class:"wedding-divider-blush mt-4"}),e("p",{class:"text-wedding-lg font-wedding-body wedding-navy mt-4"}," Share a special message or well wishes with us (optional). ")],-1)),e("div",De,[e("div",null,[g(o(h),{for:"message",class:"font-wedding-semibold wedding-navy"},{default:f(()=>[...t[13]||(t[13]=[_(" Your Message ",-1)])]),_:1}),g(o(X),{id:"message",modelValue:s.value.message,"onUpdate:modelValue":t[1]||(t[1]=v=>s.value.message=v),placeholder:"Write your message here...",rows:"5",maxlength:"1000",class:"input-wedding wedding-transition-slow textarea-wedding mt-2"},null,8,["modelValue"]),e("p",Ie,u(s.value.message?.length||0)+"/1000 characters ",1)])])])):a("",!0),l.value===3?(d(),n("div",Le,[t[16]||(t[16]=e("div",null,[e("h3",{class:"wedding-title text-wedding-3xl font-wedding-bold wedding-navy"}," Song Suggestion "),e("div",{class:"wedding-divider-blush mt-4"}),e("p",{class:"text-wedding-lg font-wedding-body wedding-navy mt-4"}," Help us create the perfect playlist! Suggest a song that would make you want to dance (optional). ")],-1)),e("div",Te,[e("div",null,[g(o(h),{for:"song_suggestion",class:"font-wedding-semibold wedding-navy"},{default:f(()=>[...t[15]||(t[15]=[_(" Song Title & Artist ",-1)])]),_:1}),g(o(P),{id:"song_suggestion",modelValue:s.value.song_suggestion,"onUpdate:modelValue":t[2]||(t[2]=v=>s.value.song_suggestion=v),type:"text",placeholder:"e.g., 'Perfect - Ed Sheeran'",maxlength:"255",class:"input-wedding wedding-transition-slow mt-2"},null,8,["modelValue"]),e("p",Ye,u(s.value.song_suggestion?.length||0)+"/255 characters ",1)])])])):a("",!0),l.value===4?(d(),n("div",Ue,[t[19]||(t[19]=e("div",null,[e("h3",{class:"wedding-title text-wedding-3xl font-wedding-bold wedding-navy"}," Email Address "),e("div",{class:"wedding-divider-blush mt-4"}),e("p",{class:"text-wedding-lg font-wedding-body wedding-navy mt-4"}," Provide your email address for confirmation and updates about the wedding. ")],-1)),e("div",qe,[e("div",null,[g(o(h),{for:"email",class:"font-wedding-semibold wedding-navy"},{default:f(()=>[...t[17]||(t[17]=[_(" Email Address ",-1)])]),_:1}),g(o(P),{id:"email",modelValue:s.value.email,"onUpdate:modelValue":t[3]||(t[3]=v=>s.value.email=v),type:"email",placeholder:"your.email@example.com",required:"",class:S(["input-wedding wedding-transition-slow mt-2",{error:r.value.email,success:s.value.email&&!r.value.email}])},null,8,["modelValue","class"]),r.value.email?(d(),n("p",ze,u(r.value.email),1)):a("",!0),t[18]||(t[18]=e("p",{class:"wedding-navy font-wedding-body mt-1 text-sm"}," We'll use this to send you a confirmation and any important updates. ",-1))])])])):a("",!0),l.value===5?(d(),n("div",He,[t[28]||(t[28]=e("div",null,[e("h3",{class:"wedding-title text-wedding-3xl font-wedding-bold wedding-navy"}," Review Your RSVP "),e("div",{class:"wedding-divider-blush mt-4"}),e("p",{class:"text-wedding-lg font-wedding-body wedding-navy mt-4"}," Please review your information before submitting. ")],-1)),e("div",Oe,[e("div",null,[t[20]||(t[20]=e("h3",{class:"font-wedding-semibold wedding-navy text-wedding-xl"}," Guest Information ",-1)),e("p",Je,u(s.value.guest_name),1),i.value?(d(),n("p",Xe," Group: "+u(i.value.group?.name),1)):a("",!0)]),t[25]||(t[25]=e("div",{class:"wedding-divider"},null,-1)),e("div",null,[t[21]||(t[21]=e("h3",{class:"font-wedding-semibold wedding-navy text-wedding-xl"}," Attendance ",-1)),e("p",Ke,u(s.value.attending_count)+" "+u(s.value.attending_count===1?"person":"people")+" attending ",1)]),s.value.message?(d(),n("div",Qe)):a("",!0),s.value.message?(d(),n("div",Ze,[t[22]||(t[22]=e("h3",{class:"font-wedding-semibold wedding-navy text-wedding-xl"}," Message ",-1)),e("p",et,u(s.value.message),1)])):a("",!0),s.value.song_suggestion?(d(),n("div",tt)):a("",!0),s.value.song_suggestion?(d(),n("div",st,[t[23]||(t[23]=e("h3",{class:"font-wedding-semibold wedding-navy text-wedding-xl"}," Song Suggestion ",-1)),e("p",dt,u(s.value.song_suggestion),1)])):a("",!0),t[26]||(t[26]=e("div",{class:"wedding-divider"},null,-1)),e("div",null,[t[24]||(t[24]=e("h3",{class:"font-wedding-semibold wedding-navy text-wedding-xl"}," Email ",-1)),e("p",nt,u(s.value.email),1)])]),e("div",it,[e("div",at,[g(o(V),{class:"mt-0.5 mr-2 h-5 w-5 text-green-600"}),t[27]||(t[27]=e("div",null,[e("h3",{class:"font-wedding-semibold text-green-900"}," Ready to Submit "),e("p",{class:"font-wedding-body mt-1 text-sm text-green-700"}," Click the submit button below to complete your RSVP. You'll receive a confirmation email shortly. ")],-1))])])])):a("",!0),e("div",lt,[e("button",{type:"button",class:"btn-wedding-secondary wedding-hover-lift wedding-touch-target-lg order-2 sm:order-1",onClick:D,disabled:l.value===0||p.value},[g(o(se),{class:"mr-2 h-4 w-4"}),t[29]||(t[29]=e("span",{class:"text-sm sm:text-base"},"Previous",-1))],8,ot),l.value<5?(d(),n("button",{key:0,type:"button",class:"btn-wedding-primary wedding-hover-lift wedding-touch-target-lg order-1 sm:order-2",onClick:B,disabled:!x.value||p.value},[t[30]||(t[30]=e("span",{class:"text-sm sm:text-base"},"Next",-1)),g(o(K),{class:"ml-2 h-4 w-4"})],8,ut)):a("",!0),l.value===5?(d(),n("button",{key:1,type:"submit",class:"btn-wedding-accent wedding-hover-lift wedding-touch-target-lg order-1 sm:order-2",disabled:p.value||!A.value},[p.value?(d(),n("div",rt)):a("",!0),_(" "+u(p.value?"Submitting...":"Submit RSVP")+" ",1),g(o(Q),{class:"ml-2 h-4 w-4"})],8,gt)):a("",!0)])],32)]),_:1})])])])]),_:1}))}}),Ft=de(mt,[["__scopeId","data-v-f9adee6e"]]);export{Ft as default};
