import{d as I,k as f,m as $,q as Q,g as A,w as y,b as e,c as n,o as s,F as M,r as B,n as x,f as i,u as l,t as o,a as g,j as L,e as b,Q as Y,p as D}from"./app-CdOGdlkG.js";import{_ as T}from"./CardContent.vue_vue_type_script_setup_true_lang-9XehxFRl.js";import{_ as S}from"./Input.vue_vue_type_script_setup_true_lang-Dnbz9aEv.js";import{_}from"./Label.vue_vue_type_script_setup_true_lang-CnvJoJc0.js";import{C as U,M as q,_ as z,A as H,S as O}from"./Textarea.vue_vue_type_script_setup_true_lang-Ci5AcIT6.js";import{P as X}from"./PublicLayout-C4iEhRkS.js";import{C as V}from"./circle-check-big-BnFPSI0_.js";import{C as J}from"./circle-alert-kRHWuuZo.js";import{P as K}from"./plus-KJo7XYsz.js";import{A as Z}from"./arrow-left-DxhNmo9p.js";import{_ as ee}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-TfETDaq2.js";import"./useForwardExpose-MlbCZC6X.js";import"./Primitive-CAPJtqxk.js";import"./createLucideIcon-DlNV4ml1.js";const te={class:"wedding-smooth-scroll wedding-container relative z-10 px-4 py-8 sm:py-10 lg:py-12"},de={class:"mx-auto max-w-4xl"},se={class:"wedding-animate-slide-up mb-8 sm:mb-10 lg:mb-12"},ne={class:"wedding-step-indicator"},ie={class:"wedding-step-circle wedding-touch-target"},ae={key:1,class:"text-sm sm:text-base"},le={class:"wedding-step-label text-xs sm:text-sm"},oe={class:"card-wedding-elegant wedding-animate-scale-in shadow-wedding-xl wedding-hover-lift",style:{"animation-delay":"0.2s"}},ge={key:0,class:"wedding-animate-page-transition space-y-6"},ue={class:"space-y-4"},re={key:0,class:"font-wedding-medium mt-1 text-sm text-red-600"},me={key:0,class:"wedding-animate-fade-in flex items-center justify-center py-4"},we={key:1,class:"rounded-wedding-lg border-wedding-gold bg-wedding-ivory-bg shadow-wedding-soft wedding-animate-bounce-in wedding-success-animation border-2 p-4"},ve={class:"flex items-start"},ce={class:"font-wedding-body mt-1 text-sm text-green-700"},pe={key:0,class:"mt-2"},fe={class:"font-wedding-body ml-2 list-inside list-disc text-sm text-green-700"},ye={key:1,class:"rounded-wedding mt-2 border border-yellow-300 bg-yellow-100 p-2"},be={class:"font-wedding-medium text-sm text-yellow-800"},he={key:2,class:"rounded-wedding-lg border-2 border-red-200 bg-red-50 p-4"},_e={class:"flex items-start"},xe={key:1,class:"wedding-animate-page-transition space-y-6"},ke={key:0,class:"rounded-wedding-lg border-wedding-blush bg-wedding-blush-light-bg shadow-wedding-soft mb-6 border-2 p-4"},Se={class:"font-wedding-semibold wedding-navy"},Ve={class:"wedding-navy font-wedding-body text-sm"},Pe={class:"space-y-4"},Ce={class:"mt-4 flex items-center justify-center space-x-4 sm:space-x-6"},Qe=["disabled"],Ae={class:"font-wedding-bold wedding-navy wedding-animate-scale-in w-16 text-center text-2xl sm:w-20 sm:text-3xl"},Me=["disabled"],Be={class:"text-wedding-base sm:text-wedding-lg font-wedding-body wedding-navy mt-4 text-center"},Ee={key:2,class:"wedding-animate-page-transition space-y-6"},Re={class:"space-y-4"},Fe={class:"wedding-navy font-wedding-body mt-1 text-sm"},We={key:3,class:"wedding-animate-page-transition space-y-6"},Ne={class:"space-y-4"},Ge={class:"wedding-navy font-wedding-body mt-1 text-sm"},je={key:4,class:"wedding-animate-page-transition space-y-6"},Ie={class:"space-y-4"},$e={key:0,class:"font-wedding-medium mt-1 text-sm text-red-600"},Le={key:5,class:"wedding-animate-page-transition space-y-6"},Ye={class:"rounded-wedding-lg bg-wedding-ivory-bg border-wedding-blush-light space-y-6 border-2 p-6"},De={class:"wedding-navy font-wedding-body text-wedding-lg mt-2"},Te={key:0,class:"wedding-navy font-wedding-body mt-1 text-sm"},Ue={class:"wedding-navy font-wedding-body text-wedding-lg mt-2"},qe={key:0,class:"wedding-divider"},ze={key:1},He={class:"wedding-navy font-wedding-body text-wedding-lg mt-2 whitespace-pre-wrap"},Oe={key:2,class:"wedding-divider"},Xe={key:3},Je={class:"wedding-navy font-wedding-body text-wedding-lg mt-2"},Ke={class:"wedding-navy font-wedding-body text-wedding-lg mt-2"},Ze={class:"rounded-wedding-lg border-wedding-gold bg-wedding-ivory-bg shadow-wedding-gold border-2 p-4"},et={class:"flex items-start"},tt={class:"mt-6 flex flex-col justify-between gap-4 sm:mt-8 sm:flex-row sm:gap-0"},dt=["disabled"],st=["disabled"],nt=["disabled"],it={key:0,class:"wedding-loading border-wedding-navy mr-2 h-4 w-4 rounded-full border-b-2"},at=I({__name:"Create-v2",setup(lt){const P=[{title:"Find Invitation"},{title:"Attendance"},{title:"Message"},{title:"Song"},{title:"Email"},{title:"Review"}],u=f(0),h=f(!1),p=f(!1),v=f(!1),a=f(null),r=f({}),d=f({guest_name:"",attending_count:0,message:"",song_suggestion:"",email:""});$(()=>d.value.guest_name,()=>{d.value.guest_name===""&&(v.value=!1,a.value=null,r.value.guest_name="")});const k=Q(()=>{switch(u.value){case 0:return v.value&&a.value&&!a.value.group?.has_rsvp;case 1:return!0;case 2:return!0;case 3:return!0;case 4:return d.value.email&&E(d.value.email);case 5:return!0;default:return!1}}),C=Q(()=>k.value&&v.value&&a.value),E=w=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(w),R=async()=>{if(!d.value.guest_name.trim()){r.value.guest_name="Please enter your full name";return}h.value=!0,r.value.guest_name="";try{const w=await Y.post("/rsvp/check-guest",{name:d.value.guest_name});w.data.found?(v.value=!0,a.value=w.data,w.data.group?.has_rsvp&&(r.value.guest_name="This group has already submitted an RSVP. Please contact the couple if you need to make changes.")):(v.value=!1,a.value=null,r.value.guest_name=w.data.message||"Guest not found")}catch(w){console.error("Error checking guest:",w),r.value.guest_name="An error occurred while checking your name. Please try again.",v.value=!1,a.value=null}finally{h.value=!1}},F=()=>{const w=a.value?.group?.max_attendees||0;d.value.attending_count<w&&d.value.attending_count++},W=()=>{d.value.attending_count>0&&d.value.attending_count--},N=()=>{k.value&&u.value++},G=()=>{u.value>0&&u.value--},j=()=>{if(!C.value)return;p.value=!0,r.value={};const w={group_name:a.value?.group?.name,guest_names:a.value?.group_guests||[d.value.guest_name],email:d.value.email,attending_count:d.value.attending_count,message:d.value.message,song_suggestion:d.value.song_suggestion};D.post("/rsvp/store",w,{onSuccess:()=>{},onError:t=>{typeof t=="object"&&t!==null&&(r.value=Object.fromEntries(Object.entries(t).map(([m,c])=>[m,String(c)]))),u.value=0},onFinish:()=>{p.value=!1}})};return(w,t)=>(s(),A(X,{title:"RSVP - Wedding Invitation",description:"Please fill out this form to let us know if you can attend our special day",showHeader:!1,showFooter:!1},{default:y(()=>[t[32]||(t[32]=e("div",{class:"wedding-animate-fade-in-down wedding-mobile-hidden wedding-tablet-block wedding-desktop-block pointer-events-none fixed top-0 left-0 h-24 w-24 opacity-20 sm:h-32 sm:w-32",style:{"animation-delay":"0.2s"}},[e("svg",{viewBox:"0 0 100 100",class:"text-wedding-gold wedding-animate-heartbeat h-full w-full"},[e("path",{d:"M20,50 Q30,30 50,20 Q70,30 80,50 Q70,70 50,80 Q30,70 20,50",fill:"currentColor"}),e("circle",{cx:"50",cy:"50",r:"5",fill:"var(--wedding-blush)"})])],-1)),t[33]||(t[33]=e("div",{class:"wedding-animate-fade-in-down wedding-mobile-hidden wedding-tablet-block wedding-desktop-block pointer-events-none fixed top-0 right-0 h-24 w-24 rotate-90 opacity-20 sm:h-32 sm:w-32",style:{"animation-delay":"0.4s"}},[e("svg",{viewBox:"0 0 100 100",class:"text-wedding-gold wedding-animate-heartbeat h-full w-full"},[e("path",{d:"M20,50 Q30,30 50,20 Q70,30 80,50 Q70,70 50,80 Q30,70 20,50",fill:"currentColor"}),e("circle",{cx:"50",cy:"50",r:"5",fill:"var(--wedding-blush)"})])],-1)),t[34]||(t[34]=e("div",{class:"wedding-animate-fade-in-up wedding-mobile-hidden wedding-tablet-block wedding-desktop-block pointer-events-none fixed bottom-0 left-0 h-24 w-24 -rotate-90 opacity-20 sm:h-32 sm:w-32",style:{"animation-delay":"0.6s"}},[e("svg",{viewBox:"0 0 100 100",class:"text-wedding-gold wedding-animate-heartbeat h-full w-full"},[e("path",{d:"M20,50 Q30,30 50,20 Q70,30 80,50 Q70,70 50,80 Q30,70 20,50",fill:"currentColor"}),e("circle",{cx:"50",cy:"50",r:"5",fill:"var(--wedding-blush)"})])],-1)),t[35]||(t[35]=e("div",{class:"wedding-animate-fade-in-up wedding-mobile-hidden wedding-tablet-block wedding-desktop-block pointer-events-none fixed right-0 bottom-0 h-24 w-24 rotate-180 opacity-20 sm:h-32 sm:w-32",style:{"animation-delay":"0.8s"}},[e("svg",{viewBox:"0 0 100 100",class:"text-wedding-gold wedding-animate-heartbeat h-full w-full"},[e("path",{d:"M20,50 Q30,30 50,20 Q70,30 80,50 Q70,70 50,80 Q30,70 20,50",fill:"currentColor"}),e("circle",{cx:"50",cy:"50",r:"5",fill:"var(--wedding-blush)"})])],-1)),e("div",te,[e("div",de,[t[31]||(t[31]=e("div",{class:"wedding-header wedding-animate-bounce-in mb-8 text-center sm:mb-10 lg:mb-12"},[e("h1",{class:"wedding-title text-wedding-4xl sm:text-wedding-5xl font-wedding-black wedding-navy wedding-hover-glow"}," Wedding RSVP "),e("div",{class:"wedding-divider wedding-animate-gold-shimmer mt-4 mb-3 sm:mt-6 sm:mb-4"}),e("p",{class:"wedding-subtitle font-wedding-accent text-wedding-lg sm:text-wedding-xl wedding-animate-fade-in-up",style:{"animation-delay":"0.3s"}}," We're so excited to celebrate with you! "),e("p",{class:"text-wedding-base sm:text-wedding-lg font-wedding-body wedding-navy wedding-animate-fade-in-up mt-2",style:{"animation-delay":"0.5s"}}," Please fill out this form to let us know if you can attend our special day. ")],-1)),e("div",se,[e("div",ne,[(s(),n(M,null,B(P,(m,c)=>e("div",{key:c,class:x(["wedding-step",{active:u.value===c,completed:u.value>c}])},[e("div",ie,[u.value>c?(s(),A(l(V),{key:0,class:"h-4 w-4 sm:h-5 sm:w-5"})):(s(),n("span",ae,o(c+1),1))]),e("span",le,o(m.title),1),c<P.length-1?(s(),n("div",{key:0,class:x(["wedding-step-connector",{completed:u.value>c}])},null,2)):i("",!0)],2)),64))])]),e("div",oe,[g(l(T),{class:"p-6 sm:p-8"},{default:y(()=>[e("form",{onSubmit:L(j,["prevent"])},[u.value===0?(s(),n("div",ge,[t[10]||(t[10]=e("div",null,[e("h2",{class:"wedding-title text-wedding-3xl font-wedding-bold wedding-navy"}," Find Your Invitation "),e("div",{class:"wedding-divider-blush mt-4"}),e("p",{class:"text-wedding-lg font-wedding-body wedding-navy mt-4"}," Please enter your full name as it appears on your invitation. ")],-1)),e("div",ue,[e("div",null,[g(l(_),{for:"guest_name",class:"font-wedding-semibold wedding-navy wedding-animate-fade-in-left"},{default:y(()=>[...t[4]||(t[4]=[b(" Full Name ",-1)])]),_:1}),g(l(S),{id:"guest_name",modelValue:d.value.guest_name,"onUpdate:modelValue":t[0]||(t[0]=m=>d.value.guest_name=m),type:"text",placeholder:"Enter your full name",disabled:h.value,onBlur:R,required:"",class:x(["input-wedding wedding-transition-slow mt-2",{error:r.value.guest_name,success:v.value&&!r.value.guest_name}])},null,8,["modelValue","disabled","class"]),r.value.guest_name?(s(),n("p",re,o(r.value.guest_name),1)):i("",!0)]),h.value?(s(),n("div",me,[...t[5]||(t[5]=[e("div",{class:"wedding-loading border-wedding-gold h-8 w-8 rounded-full border-b-2"},null,-1),e("span",{class:"wedding-navy font-wedding-medium wedding-animate-pulse ml-2"},"Searching for your invitation...",-1)])])):i("",!0),v.value&&a.value?(s(),n("div",we,[e("div",ve,[g(l(V),{class:"mt-0.5 mr-2 h-5 w-5 text-green-600"}),e("div",null,[t[8]||(t[8]=e("h3",{class:"font-wedding-semibold text-green-900"}," Invitation Found! ",-1)),e("p",ce," Group: "+o(a.value.group?.name),1),a.value.group_guests&&a.value.group_guests.length>0?(s(),n("div",pe,[t[6]||(t[6]=e("p",{class:"font-wedding-medium text-sm text-green-700"}," Guests in your group: ",-1)),e("ul",fe,[(s(!0),n(M,null,B(a.value.group_guests,m=>(s(),n("li",{key:m},o(m),1))),128))])])):i("",!0),a.value.group?.has_rsvp?(s(),n("div",ye,[e("p",be,[g(l(J),{class:"mr-1 inline h-4 w-4"}),t[7]||(t[7]=b(" This group has already submitted an RSVP. Please contact the couple if you need to make changes. ",-1))])])):i("",!0)])])])):i("",!0),!v.value&&d.value.guest_name&&!h.value?(s(),n("div",he,[e("div",_e,[g(l(U),{class:"mt-0.5 mr-2 h-5 w-5 text-red-600"}),t[9]||(t[9]=e("div",null,[e("h3",{class:"font-wedding-semibold text-red-900"}," Invitation Not Found "),e("p",{class:"font-wedding-body mt-1 text-sm text-red-700"}," We couldn't find your invitation. Please check the spelling of your name or contact the couple for assistance. ")],-1))])])):i("",!0)])])):i("",!0),u.value===1?(s(),n("div",xe,[t[12]||(t[12]=e("div",null,[e("h2",{class:"wedding-title text-wedding-3xl font-wedding-bold wedding-navy"}," Will You Be Attending? "),e("div",{class:"wedding-divider-blush mt-4"}),e("p",{class:"text-wedding-lg font-wedding-body wedding-navy mt-4"}," Let us know how many people from your group will be attending the wedding. ")],-1)),a.value?(s(),n("div",ke,[e("p",Se," Group: "+o(a.value.group?.name),1),e("p",Ve," Maximum attendees: "+o(a.value.group?.max_attendees),1)])):i("",!0),e("div",Pe,[e("div",null,[g(l(_),{for:"attending_count",class:"font-wedding-semibold wedding-navy"},{default:y(()=>[...t[11]||(t[11]=[b(" Number of Attendees ",-1)])]),_:1}),e("div",Ce,[e("button",{type:"button",class:"btn-wedding-secondary wedding-hover-scale wedding-touch-target-lg",onClick:W,disabled:d.value.attending_count<=0},[g(l(q),{class:"h-4 w-4 sm:h-5 sm:w-5"})],8,Qe),e("div",Ae,o(d.value.attending_count),1),e("button",{type:"button",class:"btn-wedding-secondary wedding-hover-scale wedding-touch-target-lg",onClick:F,disabled:d.value.attending_count>=(a.value?.group?.max_attendees||0)},[g(l(K),{class:"h-4 w-4 sm:h-5 sm:w-5"})],8,Me)]),e("p",Be,o(d.value.attending_count===0?"We're sorry you can't make it. We'll miss you!":`Great! We're excited to celebrate with ${d.value.attending_count} ${d.value.attending_count===1?"person":"people"}.`),1)])])])):i("",!0),u.value===2?(s(),n("div",Ee,[t[14]||(t[14]=e("div",null,[e("h2",{class:"wedding-title text-wedding-3xl font-wedding-bold wedding-navy"}," Message to the Couple "),e("div",{class:"wedding-divider-blush mt-4"}),e("p",{class:"text-wedding-lg font-wedding-body wedding-navy mt-4"}," Share a special message or well wishes with us (optional). ")],-1)),e("div",Re,[e("div",null,[g(l(_),{for:"message",class:"font-wedding-semibold wedding-navy"},{default:y(()=>[...t[13]||(t[13]=[b(" Your Message ",-1)])]),_:1}),g(l(z),{id:"message",modelValue:d.value.message,"onUpdate:modelValue":t[1]||(t[1]=m=>d.value.message=m),placeholder:"Write your message here...",rows:"5",maxlength:"1000",class:"input-wedding wedding-transition-slow textarea-wedding mt-2"},null,8,["modelValue"]),e("p",Fe,o(d.value.message?.length||0)+"/1000 characters ",1)])])])):i("",!0),u.value===3?(s(),n("div",We,[t[16]||(t[16]=e("div",null,[e("h2",{class:"wedding-title text-wedding-3xl font-wedding-bold wedding-navy"}," Song Suggestion "),e("div",{class:"wedding-divider-blush mt-4"}),e("p",{class:"text-wedding-lg font-wedding-body wedding-navy mt-4"}," Help us create the perfect playlist! Suggest a song that would make you want to dance (optional). ")],-1)),e("div",Ne,[e("div",null,[g(l(_),{for:"song_suggestion",class:"font-wedding-semibold wedding-navy"},{default:y(()=>[...t[15]||(t[15]=[b(" Song Title & Artist ",-1)])]),_:1}),g(l(S),{id:"song_suggestion",modelValue:d.value.song_suggestion,"onUpdate:modelValue":t[2]||(t[2]=m=>d.value.song_suggestion=m),type:"text",placeholder:"e.g., 'Perfect - Ed Sheeran'",maxlength:"255",class:"input-wedding wedding-transition-slow mt-2"},null,8,["modelValue"]),e("p",Ge,o(d.value.song_suggestion?.length||0)+"/255 characters ",1)])])])):i("",!0),u.value===4?(s(),n("div",je,[t[19]||(t[19]=e("div",null,[e("h2",{class:"wedding-title text-wedding-3xl font-wedding-bold wedding-navy"}," Email Address "),e("div",{class:"wedding-divider-blush mt-4"}),e("p",{class:"text-wedding-lg font-wedding-body wedding-navy mt-4"}," Provide your email address for confirmation and updates about the wedding. ")],-1)),e("div",Ie,[e("div",null,[g(l(_),{for:"email",class:"font-wedding-semibold wedding-navy"},{default:y(()=>[...t[17]||(t[17]=[b(" Email Address ",-1)])]),_:1}),g(l(S),{id:"email",modelValue:d.value.email,"onUpdate:modelValue":t[3]||(t[3]=m=>d.value.email=m),type:"email",placeholder:"your.email@example.com",required:"",class:x(["input-wedding wedding-transition-slow mt-2",{error:r.value.email,success:d.value.email&&!r.value.email}])},null,8,["modelValue","class"]),r.value.email?(s(),n("p",$e,o(r.value.email),1)):i("",!0),t[18]||(t[18]=e("p",{class:"wedding-navy font-wedding-body mt-1 text-sm"}," We'll use this to send you a confirmation and any important updates. ",-1))])])])):i("",!0),u.value===5?(s(),n("div",Le,[t[28]||(t[28]=e("div",null,[e("h2",{class:"wedding-title text-wedding-3xl font-wedding-bold wedding-navy"}," Review Your RSVP "),e("div",{class:"wedding-divider-blush mt-4"}),e("p",{class:"text-wedding-lg font-wedding-body wedding-navy mt-4"}," Please review your information before submitting. ")],-1)),e("div",Ye,[e("div",null,[t[20]||(t[20]=e("h3",{class:"font-wedding-semibold wedding-navy text-wedding-xl"}," Guest Information ",-1)),e("p",De,o(d.value.guest_name),1),a.value?(s(),n("p",Te," Group: "+o(a.value.group?.name),1)):i("",!0)]),t[25]||(t[25]=e("div",{class:"wedding-divider"},null,-1)),e("div",null,[t[21]||(t[21]=e("h3",{class:"font-wedding-semibold wedding-navy text-wedding-xl"}," Attendance ",-1)),e("p",Ue,o(d.value.attending_count)+" "+o(d.value.attending_count===1?"person":"people")+" attending ",1)]),d.value.message?(s(),n("div",qe)):i("",!0),d.value.message?(s(),n("div",ze,[t[22]||(t[22]=e("h3",{class:"font-wedding-semibold wedding-navy text-wedding-xl"}," Message ",-1)),e("p",He,o(d.value.message),1)])):i("",!0),d.value.song_suggestion?(s(),n("div",Oe)):i("",!0),d.value.song_suggestion?(s(),n("div",Xe,[t[23]||(t[23]=e("h3",{class:"font-wedding-semibold wedding-navy text-wedding-xl"}," Song Suggestion ",-1)),e("p",Je,o(d.value.song_suggestion),1)])):i("",!0),t[26]||(t[26]=e("div",{class:"wedding-divider"},null,-1)),e("div",null,[t[24]||(t[24]=e("h3",{class:"font-wedding-semibold wedding-navy text-wedding-xl"}," Email ",-1)),e("p",Ke,o(d.value.email),1)])]),e("div",Ze,[e("div",et,[g(l(V),{class:"mt-0.5 mr-2 h-5 w-5 text-green-600"}),t[27]||(t[27]=e("div",null,[e("h3",{class:"font-wedding-semibold text-green-900"}," Ready to Submit "),e("p",{class:"font-wedding-body mt-1 text-sm text-green-700"}," Click the submit button below to complete your RSVP. You'll receive a confirmation email shortly. ")],-1))])])])):i("",!0),e("div",tt,[e("button",{type:"button",class:"btn-wedding-secondary wedding-hover-lift wedding-touch-target-lg order-2 sm:order-1",onClick:G,disabled:u.value===0||p.value},[g(l(Z),{class:"mr-2 h-4 w-4"}),t[29]||(t[29]=e("span",{class:"text-sm sm:text-base"},"Previous",-1))],8,dt),u.value<5?(s(),n("button",{key:0,type:"button",class:"btn-wedding-primary wedding-hover-lift wedding-touch-target-lg order-1 sm:order-2",onClick:N,disabled:!k.value||p.value},[t[30]||(t[30]=e("span",{class:"text-sm sm:text-base"},"Next",-1)),g(l(H),{class:"ml-2 h-4 w-4"})],8,st)):i("",!0),u.value===5?(s(),n("button",{key:1,type:"submit",class:"btn-wedding-accent wedding-hover-lift wedding-touch-target-lg order-1 sm:order-2",disabled:p.value||!C.value},[p.value?(s(),n("div",it)):i("",!0),b(" "+o(p.value?"Submitting...":"Submit RSVP")+" ",1),g(l(O),{class:"ml-2 h-4 w-4"})],8,nt)):i("",!0)])],32)]),_:1})])])])]),_:1}))}}),kt=ee(at,[["__scopeId","data-v-6e7e3a99"]]);export{kt as default};
