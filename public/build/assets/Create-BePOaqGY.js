import{d as I,k as y,m as L,q as x,g as E,w as _,b as e,D as T,c as n,o as d,F as Y,r as G,n as k,u as r,t as u,a as m,j as U,f as i,e as f,Q as q,p as z}from"./app-D1uWoD7b.js";import{_ as H}from"./CardContent.vue_vue_type_script_setup_true_lang-DAC015I8.js";import{_ as S}from"./Input.vue_vue_type_script_setup_true_lang-BZ6xA69C.js";import{_ as P}from"./Label.vue_vue_type_script_setup_true_lang-pkMom8pZ.js";import{C as J,M as O,_ as K,A as Q}from"./Textarea.vue_vue_type_script_setup_true_lang-DBlnqpnM.js";import{P as X}from"./PublicLayout-MTn0-VJA.js";import{C as V}from"./circle-check-big-C2RcLN3S.js";import{C as Z}from"./circle-alert-DYZu7_P1.js";import{P as ee}from"./plus-CZpzpHK3.js";import{A as te}from"./arrow-left-ociV4PUf.js";import{_ as se}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-TfETDaq2.js";import"./useForwardExpose-DdFMdCjF.js";import"./Primitive-XFc_1I7L.js";import"./createLucideIcon-tTLBjQjb.js";const de={class:"wedding-smooth-scroll wedding-container relative z-10 px-4 py-8 sm:py-10 lg:py-12"},ne={class:"mx-auto max-w-4xl"},ie={class:"wedding-animate-slide-up mb-8 sm:mb-10 lg:mb-12"},ae={class:"wedding-progress-container"},le={class:"wedding-progress-bar"},oe={class:"wedding-progress-steps"},ue=["onClick"],ge={class:"wedding-progress-dot"},re={key:1,class:"text-xs sm:text-sm"},me={class:"wedding-progress-label text-xs sm:text-sm"},ce={class:"card-wedding-elegant wedding-animate-scale-in shadow-wedding-xl wedding-hover-lift",style:{"animation-delay":"0.2s"}},ve={key:0,class:"wedding-animate-page-transition space-y-6"},we={class:"space-y-4"},pe={class:"relative flex flex-col items-center space-y-7"},ye=["disabled"],fe={key:0,class:"font-wedding-medium mt-1 text-sm text-red-600"},be={key:0,class:"wedding-animate-fade-in flex items-center justify-center py-4"},_e={key:1,class:"rounded-wedding-lg border-wedding-gold bg-wedding-ivory-bg shadow-wedding-soft wedding-animate-bounce-in wedding-success-animation border-2 p-4"},he={class:"flex flex-col items-center space-y-4"},xe={class:"font-wedding-semibold text-normal text-center text-green-900 lg:text-2xl"},ke={key:0,class:"rounded-wedding mt-2 border border-yellow-300 bg-yellow-100 p-2"},Se={class:"font-wedding-medium text-sm text-yellow-800"},Pe={key:2,class:"rounded-wedding-lg border-2 border-red-200 bg-red-50 p-4"},Ve={class:"flex items-start"},Ce={key:1,class:"wedding-animate-page-transition space-y-6 text-center"},Ae={key:0,class:"rounded-wedding-lg border-wedding-blush bg-wedding-blush-light-bg shadow-wedding-soft mb-6 border-2 p-4"},Ee={class:"wedding-navy font-wedding-body"},Re={class:"space-y-4 text-center"},We={class:"mt-4 flex items-center justify-center space-x-4 sm:space-x-6"},Me=["disabled"],Fe={class:"font-wedding-bold wedding-navy wedding-animate-scale-in w-16 text-center text-2xl sm:w-20 sm:text-3xl"},Ne=["disabled"],$e={class:"text-wedding-base sm:text-wedding-lg font-wedding-body wedding-navy mt-4 text-center"},je={key:2,class:"wedding-animate-page-transition space-y-6"},De={class:"space-y-4"},Be={class:"wedding-navy font-wedding-body mt-1 text-sm"},Ie={key:3,class:"wedding-animate-page-transition space-y-6"},Le={class:"space-y-4"},Te={class:"wedding-navy font-wedding-body mt-1 text-sm"},Ye={key:4,class:"wedding-animate-page-transition space-y-6"},Ge={class:"space-y-4"},Ue={key:0,class:"font-wedding-medium mt-1 text-sm text-red-600"},qe={key:5,class:"wedding-animate-page-transition space-y-6"},ze={class:"rounded-wedding-lg bg-wedding-ivory-bg border-wedding-blush-light space-y-6 border-2 p-3 md:p-6"},He={class:"wedding-navy font-wedding-body text-wedding-lg mt-2"},Je={class:"wedding-navy font-wedding-body text-wedding-lg mt-2"},Oe={key:0,class:"wedding-divider"},Ke={key:1},Qe={class:"wedding-navy font-wedding-body text-wedding-lg mt-2 whitespace-pre-wrap"},Xe={key:2,class:"wedding-divider"},Ze={key:3},et={class:"wedding-navy font-wedding-body text-wedding-lg mt-2"},tt={class:"wedding-navy font-wedding-body text-wedding-lg mt-2"},st={class:"rounded-wedding-lg border-wedding-gold bg-wedding-ivory-bg shadow-wedding-gold border-2 p-4"},dt={class:"flex items-start"},nt={key:6,class:"mt-6 flex justify-between gap-4 sm:mt-8 sm:flex-row sm:gap-0"},it=["disabled"],at=["disabled"],lt=["disabled"],ot={key:0,class:"wedding-loading border-wedding-navy mr-2 h-4 w-4 rounded-full border-b-2"},ut=I({__name:"Create",setup(gt){const C=[{title:"Find Invitation"},{title:"Attendance"},{title:"Message"},{title:"Song"},{title:"Email"},{title:"Review"}],a=y(0),b=y(!1),p=y(!1),c=y(!1),l=y(null),g=y({}),s=y({guest_name:"",attending_count:0,message:"",song_suggestion:"",email:""});L(()=>s.value.guest_name,o=>{o===""&&(c.value=!1,l.value=null,g.value.guest_name="")});const h=x(()=>{switch(a.value){case 0:return c.value&&l.value&&!l.value.group?.has_rsvp;case 1:return!0;case 2:return!0;case 3:return!0;case 4:return s.value.email&&M(s.value.email);case 5:return!0;default:return!1}}),A=x(()=>h.value&&c.value&&l.value),R=x(()=>(a.value+1)/C.length*100),W=o=>{o<=a.value&&(a.value=o)},M=o=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o),F=async()=>{if(!s.value.guest_name.trim()){g.value.guest_name="Please enter your full name";return}b.value=!0,g.value.guest_name="";try{const o=await q.post("/rsvp/check-guest",{name:s.value.guest_name});o.data.found?(c.value=!0,l.value=o.data,o.data.group?.has_rsvp&&(g.value.guest_name="This group has already submitted an RSVP. Please contact the couple if you need to make changes.")):(c.value=!1,l.value=null,g.value.guest_name=o.data.message||"Guest not found")}catch(o){console.error("Error checking guest:",o),g.value.guest_name="An error occurred while checking your name. Please try again.",c.value=!1,l.value=null}finally{b.value=!1}},N=()=>{const o=l.value?.group?.max_attendees||0;s.value.attending_count<o&&s.value.attending_count++},$=()=>{s.value.attending_count>0&&s.value.attending_count--},j=()=>{h.value&&a.value++},D=()=>{a.value>0&&a.value--},B=()=>{if(!A.value)return;p.value=!0,g.value={};const o={group_name:l.value?.group?.name,guest_names:l.value?.group_guests||[s.value.guest_name],email:s.value.email,attending_count:s.value.attending_count,message:s.value.message,song_suggestion:s.value.song_suggestion};z.post("/rsvp/store",o,{onSuccess:()=>{},onError:t=>{typeof t=="object"&&t!==null&&(g.value=Object.fromEntries(Object.entries(t).map(([v,w])=>[v,String(w)]))),a.value=0},onFinish:()=>{p.value=!1}})};return(o,t)=>(d(),E(X,{title:"RSVP - James & Dannica's Wedding",description:"Please fill out this form to let us know if you can attend our special day",showHeader:!1,showFooter:!1},{default:_(()=>[e("div",de,[e("div",ne,[t[29]||(t[29]=e("div",{class:"wedding-header wedding-animate-bounce-in mb-8 text-center sm:mb-10 lg:mb-12"},[e("h3",{class:"wedding-title text-wedding-4xl sm:text-wedding-5xl"}," James & Dannica's Wedding "),e("div",{class:"wedding-divider wedding-animate-gold-shimmer mt-4 mb-3 sm:mt-6 sm:mb-4"}),e("p",{class:"wedding-subtitle font-wedding-accent text-wedding-lg sm:text-wedding-xl wedding-animate-fade-in-up",style:{"animation-delay":"0.3s"}}," We're so excited to celebrate with you! "),e("p",{class:"text-wedding-base sm:text-wedding-lg font-wedding-body wedding-navy wedding-animate-fade-in-up mt-2",style:{"animation-delay":"0.5s"}}," Please fill out this form to let us know if you can attend our special day. ")],-1)),e("div",ie,[e("div",ae,[e("div",le,[e("div",{class:"wedding-progress-fill",style:T({width:R.value+"%"})},null,4)]),e("div",oe,[(d(),n(Y,null,G(C,(v,w)=>e("div",{key:w,class:k(["wedding-progress-step",{active:a.value===w,completed:a.value>w}]),onClick:rt=>W(w)},[e("div",ge,[a.value>w?(d(),E(r(V),{key:0,class:"h-3 w-3 sm:h-4 sm:w-4"})):(d(),n("span",re,u(w+1),1))]),e("span",me,u(v.title),1)],10,ue)),64))])])]),e("div",ce,[m(r(H),{class:"p-0 sm:p-8"},{default:_(()=>[e("form",{onSubmit:U(B,["prevent"])},[a.value===0?(d(),n("div",ve,[t[8]||(t[8]=e("div",{class:"text-center"},[e("h3",{class:"wedding-title text-wedding-3xl font-wedding-bold wedding-navy m-auto text-center"}," Find My Invitation "),e("div",{class:"wedding-divider-blush mt-4"}),e("p",{class:"text-wedding-lg font-wedding-body wedding-navy mt-4"}," Kindly enter your full name to find your invitation and RSVP ")],-1)),e("div",we,[e("div",null,[e("div",pe,[m(r(S),{id:"guest_name",modelValue:s.value.guest_name,"onUpdate:modelValue":t[0]||(t[0]=v=>s.value.guest_name=v),type:"text",placeholder:"Enter your full name",disabled:b.value,required:"",class:k(["input-wedding wedding-transition-slow mt-2 pr-12",{error:g.value.guest_name,success:c.value&&!g.value.guest_name}])},null,8,["modelValue","disabled","class"]),!c.value&&!l.value?(d(),n("button",{key:0,type:"button",onClick:F,class:"btn-wedding-primary wedding-hover-lift wedding-touch-target-lg",disabled:b.value||!s.value.guest_name.trim(),title:"Find My Invitation"}," Search ",8,ye)):i("",!0)]),g.value.guest_name?(d(),n("p",fe,u(g.value.guest_name),1)):i("",!0)]),b.value?(d(),n("div",be,[...t[4]||(t[4]=[e("div",{class:"wedding-loading border-wedding-gold h-8 w-8 rounded-full border-b-2"},null,-1),e("span",{class:"wedding-navy font-wedding-medium wedding-animate-pulse ml-2"},"Searching for your invitation...",-1)])])):i("",!0),c.value&&l.value?(d(),n("div",_e,[e("div",he,[m(r(V),{class:"mt-0.5 mr-2 h-7 w-7 text-green-600"}),e("div",null,[e("h4",xe,[f(" Welcome, "+u(s.value.guest_name)+"! ",1),t[5]||(t[5]=e("br",null,null,-1)),f(" You have "+u(l.value.group_guests?.length)+" reserved seat in your name. ",1)]),l.value.group?.has_rsvp?(d(),n("div",ke,[e("p",Se,[m(r(Z),{class:"mr-1 inline h-4 w-4"}),t[6]||(t[6]=f(" This group has already submitted an RSVP. Please contact the couple if you need to make changes. ",-1))])])):i("",!0)])])])):i("",!0),!c.value&&s.value.guest_name&&!b.value&&g.value.guest_name?(d(),n("div",Pe,[e("div",Ve,[m(r(J),{class:"mt-0.5 mr-2 h-5 w-5 text-red-600"}),t[7]||(t[7]=e("div",null,[e("h3",{class:"font-wedding-semibold text-red-900"}," Invitation Not Found "),e("p",{class:"font-wedding-body mt-1 text-sm text-red-700"}," We couldn't find your invitation. Please check the spelling of your name or contact the couple for assistance. ")],-1))])])):i("",!0)])])):i("",!0),a.value===1?(d(),n("div",Ce,[t[10]||(t[10]=e("div",null,[e("h3",{class:"wedding-title text-wedding-3xl font-wedding-bold wedding-navy"}," Will You Be Attending? "),e("div",{class:"wedding-divider-blush mt-4"}),e("p",{class:"text-wedding-lg font-wedding-body wedding-navy mt-4"}," Let us know how many people from your group will be attending the wedding. ")],-1)),l.value?(d(),n("div",Ae,[e("p",Ee," Maximum attendees: "+u(l.value.group?.max_attendees),1)])):i("",!0),e("div",Re,[e("div",null,[t[9]||(t[9]=e("p",{for:"attending_count",class:"font-wedding-semibold wedding-navy m-auto text-center"}," Number of Attendees ",-1)),e("div",We,[e("button",{type:"button",class:"btn-wedding-secondary wedding-hover-scale wedding-touch-target-lg",onClick:$,disabled:s.value.attending_count<=0},[m(r(O),{class:"h-4 w-4 sm:h-5 sm:w-5"})],8,Me),e("div",Fe,u(s.value.attending_count),1),e("button",{type:"button",class:"btn-wedding-secondary wedding-hover-scale wedding-touch-target-lg",onClick:N,disabled:s.value.attending_count>=(l.value?.group?.max_attendees||0)},[m(r(ee),{class:"h-4 w-4 sm:h-5 sm:w-5"})],8,Ne)]),e("p",$e,u(s.value.attending_count===0?"We're sorry you can't make it. We'll miss you!":`Great! We're excited to celebrate with ${s.value.attending_count} ${s.value.attending_count===1?"person":"people"}.`),1)])])])):i("",!0),a.value===2?(d(),n("div",je,[t[12]||(t[12]=e("div",null,[e("h3",{class:"wedding-title text-wedding-3xl font-wedding-bold wedding-navy"}," Message to the Couple "),e("div",{class:"wedding-divider-blush mt-4"}),e("p",{class:"text-wedding-lg font-wedding-body wedding-navy mt-4"}," Share a special message or well wishes with us (optional). ")],-1)),e("div",De,[e("div",null,[m(r(P),{for:"message",class:"font-wedding-semibold wedding-navy"},{default:_(()=>[...t[11]||(t[11]=[f(" Your Message ",-1)])]),_:1}),m(r(K),{id:"message",modelValue:s.value.message,"onUpdate:modelValue":t[1]||(t[1]=v=>s.value.message=v),placeholder:"Write your message here...",rows:"5",maxlength:"1000",class:"input-wedding wedding-transition-slow textarea-wedding mt-2"},null,8,["modelValue"]),e("p",Be,u(s.value.message?.length||0)+"/1000 characters ",1)])])])):i("",!0),a.value===3?(d(),n("div",Ie,[t[14]||(t[14]=e("div",null,[e("h3",{class:"wedding-title text-wedding-3xl font-wedding-bold wedding-navy"}," Song Suggestion "),e("div",{class:"wedding-divider-blush mt-4"}),e("p",{class:"text-wedding-lg font-wedding-body wedding-navy mt-4"}," Help us create the perfect playlist! Suggest a song that would make you want to dance (optional). ")],-1)),e("div",Le,[e("div",null,[m(r(P),{for:"song_suggestion",class:"font-wedding-semibold wedding-navy"},{default:_(()=>[...t[13]||(t[13]=[f(" Song Title & Artist ",-1)])]),_:1}),m(r(S),{id:"song_suggestion",modelValue:s.value.song_suggestion,"onUpdate:modelValue":t[2]||(t[2]=v=>s.value.song_suggestion=v),type:"text",placeholder:"e.g., 'Perfect - Ed Sheeran'",maxlength:"255",class:"input-wedding wedding-transition-slow mt-2"},null,8,["modelValue"]),e("p",Te,u(s.value.song_suggestion?.length||0)+"/255 characters ",1)])])])):i("",!0),a.value===4?(d(),n("div",Ye,[t[17]||(t[17]=e("div",null,[e("h3",{class:"wedding-title text-wedding-3xl font-wedding-bold wedding-navy"}," Email Address "),e("div",{class:"wedding-divider-blush mt-4"}),e("p",{class:"text-wedding-lg font-wedding-body wedding-navy mt-4"}," Provide your email address for confirmation and updates about the wedding. ")],-1)),e("div",Ge,[e("div",null,[m(r(P),{for:"email",class:"font-wedding-semibold wedding-navy"},{default:_(()=>[...t[15]||(t[15]=[f(" Email Address ",-1)])]),_:1}),m(r(S),{id:"email",modelValue:s.value.email,"onUpdate:modelValue":t[3]||(t[3]=v=>s.value.email=v),type:"email",placeholder:"your.email@example.com",required:"",class:k(["input-wedding wedding-transition-slow mt-2",{error:g.value.email,success:s.value.email&&!g.value.email}])},null,8,["modelValue","class"]),g.value.email?(d(),n("p",Ue,u(g.value.email),1)):i("",!0),t[16]||(t[16]=e("p",{class:"wedding-navy font-wedding-body mt-1 text-sm"}," We'll use this to send you a confirmation and any important updates. ",-1))])])])):i("",!0),a.value===5?(d(),n("div",qe,[t[26]||(t[26]=e("div",null,[e("h3",{class:"wedding-title text-wedding-3xl font-wedding-bold wedding-navy"}," Review Your RSVP "),e("div",{class:"wedding-divider-blush mt-4"}),e("p",{class:"text-wedding-lg font-wedding-body wedding-navy mt-4"}," Please review your information before submitting. ")],-1)),e("div",ze,[e("div",null,[t[18]||(t[18]=e("h3",{class:"font-wedding-semibold wedding-navy text-wedding-xl"}," Guest Information ",-1)),e("p",He,u(s.value.guest_name),1)]),t[23]||(t[23]=e("div",{class:"wedding-divider"},null,-1)),e("div",null,[t[19]||(t[19]=e("h3",{class:"font-wedding-semibold wedding-navy text-wedding-xl"}," Attendance ",-1)),e("p",Je,u(s.value.attending_count)+" "+u(s.value.attending_count===1?"person":"people")+" attending ",1)]),s.value.message?(d(),n("div",Oe)):i("",!0),s.value.message?(d(),n("div",Ke,[t[20]||(t[20]=e("h3",{class:"font-wedding-semibold wedding-navy text-wedding-xl"}," Message ",-1)),e("p",Qe,u(s.value.message),1)])):i("",!0),s.value.song_suggestion?(d(),n("div",Xe)):i("",!0),s.value.song_suggestion?(d(),n("div",Ze,[t[21]||(t[21]=e("h3",{class:"font-wedding-semibold wedding-navy text-wedding-xl"}," Song Suggestion ",-1)),e("p",et,u(s.value.song_suggestion),1)])):i("",!0),t[24]||(t[24]=e("div",{class:"wedding-divider"},null,-1)),e("div",null,[t[22]||(t[22]=e("h3",{class:"font-wedding-semibold wedding-navy text-wedding-xl"}," Email ",-1)),e("p",tt,u(s.value.email),1)])]),e("div",st,[e("div",dt,[m(r(V),{class:"mt-0.5 mr-2 h-5 w-5 text-green-600"}),t[25]||(t[25]=e("div",null,[e("h3",{class:"font-wedding-semibold text-green-900"}," Ready to Submit "),e("p",{class:"font-wedding-body mt-1 text-sm text-green-700"}," Click the submit button below to complete your RSVP. You'll receive a confirmation email shortly. ")],-1))])])])):i("",!0),c.value&&l.value?(d(),n("div",nt,[e("button",{type:"button",class:"btn-wedding-secondary wedding-hover-lift wedding-touch-target-lg w-1/2 lg:w-auto",onClick:D,disabled:a.value===0||p.value},[m(r(te),{class:"mr-2 h-4 w-4"}),t[27]||(t[27]=e("span",{class:"text-sm sm:text-base"},"Previous",-1))],8,it),a.value<5?(d(),n("button",{key:0,type:"button",class:"btn-wedding-primary wedding-hover-lift wedding-touch-target-lg w-1/2 lg:w-auto",onClick:j,disabled:!h.value||p.value},[t[28]||(t[28]=e("span",{class:"text-sm sm:text-base"},"Next",-1)),m(r(Q),{class:"ml-2 h-4 w-4"})],8,at)):i("",!0),a.value===5?(d(),n("button",{key:1,type:"submit",class:"btn-wedding-accent wedding-hover-lift wedding-touch-target-lg w-1/2 lg:w-auto",disabled:p.value||!A.value},[p.value?(d(),n("div",ot)):i("",!0),f(" "+u(p.value?"Submitting...":"Submit RSVP"),1)],8,lt)):i("",!0)])):i("",!0)],32)]),_:1})])])])]),_:1}))}}),Ct=se(ut,[["__scopeId","data-v-aff7ec46"]]);export{Ct as default};
